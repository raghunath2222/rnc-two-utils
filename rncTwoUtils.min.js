"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AC_COLORS_RGB_String=exports.AC_COLORS_RGB_3JS=exports.AC_COLORS_DECIMAL=exports.ACColors=void 0;const ACColors=exports.ACColors=["#000000","#FF0000","#FFFF00","#00FF00","#00FFFF","#0000FF","#FF00FF","#FFFFFF","#414141","#808080","#FF0000","#FFAAAA","#BD0000","#BD7E7E","#810000","#815656","#680000","#684545","#4F0000","#4F3535","#FF3F00","#FFBFAA","#BD2E00","#BD8D7E","#811F00","#816056","#681900","#684E45","#4F1300","#4F3B35","#FF7F00","#FFD4AA","#BD5E00","#BD9D7E","#814000","#816B56","#683400","#685645","#4F2700","#4F4235","#FFBF00","#FFEAAA","#BD8D00","#BDAD7E","#816000","#817656","#684E00","#685F45","#4F3B00","#4F4935","#FFFF00","#FFFFAA","#BDBD00","#BDBD7E","#818100","#818156","#686800","#686845","#4F4F00","#4F4F35","#BFFF00","#EAFFAA","#8DBD00","#ADBD7E","#608100","#768156","#4E6800","#5F6845","#3B4F00","#494F35","#7FFF00","#D4FFAA","#5EBD00","#9DBD7E","#408100","#6B8156","#346800","#566845","#274F00","#424F35","#3FFF00","#BFFFAA","#2EBD00","#8DBD7E","#1F8100","#608156","#196800","#4E6845","#134F00","#3B4F35","#00FF00","#AAFFAA","#00BD00","#7EBD7E","#008100","#568156","#006800","#456845","#004F00","#354F35","#00FF3F","#AAFFBF","#00BD2E","#7EBD8D","#00811F","#568160","#006819","#45684E","#004F13","#354F3B","#00FF7F","#AAFFD4","#00BD5E","#7EBD9D","#008140","#56816B","#006834","#456856","#004F27","#354F42","#00FFBF","#AAFFEA","#00BD8D","#7EBDAD","#008160","#568176","#00684E","#45685F","#004F3B","#354F49","#00FFFF","#AAFFFF","#00BDBD","#7EBDBD","#008181","#568181","#006868","#456868","#004F4F","#354F4F","#00BFFF","#AAEAFF","#008DBD","#7EADBD","#006081","#567681","#004E68","#455F68","#003B4F","#35494F","#007FFF","#AAD4FF","#005EBD","#7E9DBD","#004081","#566B81","#003468","#455668","#00274F","#35424F","#003FFF","#AABFFF","#002EBD","#7E8DBD","#001F81","#566081","#001968","#454E68","#00134F","#353B4F","#0000FF","#AAAAFF","#0000BD","#7E7EBD","#000081","#565681","#000068","#454568","#00004F","#35354F","#3F00FF","#BFAAFF","#2E00BD","#8D7EBD","#1F0081","#605681","#190068","#4E4568","#13004F","#3B354F","#7F00FF","#D4AAFF","#5E00BD","#9D7EBD","#400081","#6B5681","#340068","#564568","#27004F","#42354F","#BF00FF","#EAAAFF","#8D00BD","#AD7EBD","#600081","#765681","#4E0068","#5F4568","#3B004F","#49354F","#FF00FF","#FFAAFF","#BD00BD","#BD7EBD","#810081","#815681","#680068","#684568","#4F004F","#4F354F","#FF00BF","#FFAAEA","#BD008D","#BD7EAD","#810060","#815676","#68004E","#68455F","#4F003B","#4F3549","#FF007F","#FFAAD4","#BD005E","#BD7E9D","#810040","#81566B","#680034","#684556","#4F0027","#4F3542","#FF003F","#FFAABF","#BD002E","#BD7E8D","#81001F","#815660","#680019","#68454E","#4F0013","#4F353B","#333333","#505050","#696969","#828282","#BEBEBE","#FFFFFF"],AC_COLORS_DECIMAL=exports.AC_COLORS_DECIMAL=[0,16711680,16776960,65280,65535,255,16711935,16777215,8421504,12632256,16711680,16744319,13369344,13395558,10027008,10046540,8323072,8339263,4980736,4990502,16727808,16752511,13382400,13401958,10036736,10051404,8331008,8343359,4985600,4992806,16744192,16760703,13395456,13408614,10046464,10056268,8339200,8347455,4990464,4995366,16760576,16768895,13408512,13415014,10056192,10061132,8347392,8351551,4995328,4997670,16776960,16777087,13421568,13421670,10000384,10000460,8355584,8355647,5000192,5000230,12582656,14679935,10079232,11717734,7510016,8755276,6258432,7307071,3755008,4344870,8388352,12582783,6736896,10079334,5019648,7510092,4161280,6258495,2509824,3755046,4194048,10485631,3394560,8375398,2529280,6264908,2064128,5209919,1264640,3099686,65280,8388479,52224,6736998,38912,5019724,32512,4161343,19456,2509862,65343,8388511,52275,6737023,38950,5019743,32543,4161359,19475,2509871,65407,8388543,52326,6737049,38988,5019762,32575,4161375,19494,2509881,65471,8388575,52377,6737074,39026,5019781,32607,4161391,19513,2509890,65535,8388607,52428,6737100,39064,5019800,32639,4161407,19532,2509900,49151,8380415,39372,6730444,29336,5014936,24447,4157311,14668,2507340,32767,8372223,26316,6724044,19608,5010072,16255,4153215,9804,2505036,16383,8364031,13260,6717388,9880,5005208,8063,4149119,4940,2502476,255,8355839,204,6710988,152,5000344,127,4145023,76,2500172,4129023,10452991,3342540,8349388,2490520,6245528,2031743,5193599,1245260,3089996,8323327,12550143,6684876,10053324,4980888,7490712,4128895,6242175,2490444,3745356,12517631,14647295,10027212,11691724,7471256,8735896,6226047,7290751,3735628,4335180,16711935,16744447,13369548,13395660,9961624,9981080,8323199,8339327,4980812,4990540,16711871,16744415,13369497,13395634,9961586,9981061,8323167,8339311,4980793,4990530,16711807,16744383,13369446,13395609,9961548,9981042,8323135,8339295,4980774,4990521,16711743,16744351,13369395,13395583,9961510,9981023,8323103,8339279,4980755,4990511,3355443,5987163,8684676,11382189,14079702,16777215],AC_COLORS_RGB_3JS=exports.AC_COLORS_RGB_3JS=["rgb(0,0,0)","rgb(255,0,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,255)","rgb(0,0,255)","rgb(255,0,255)","rgb(255,255,255)","rgb(65,65,65)","rgb(128,128,128)","rgb(255,0,0)","rgb(255,170,170)","rgb(189,0,0)","rgb(189,126,126)","rgb(129,0,0)","rgb(129,86,86)","rgb(104,0,0)","rgb(104,69,69)","rgb(79,0,0)","rgb(79,53,53)","rgb(255,63,0)","rgb(255,191,170)","rgb(189,46,0)","rgb(189,141,126)","rgb(129,31,0)","rgb(129,96,86)","rgb(104,25,0)","rgb(104,78,69)","rgb(79,19,0)","rgb(79,59,53)","rgb(255,127,0)","rgb(255,212,170)","rgb(189,94,0)","rgb(189,157,126)","rgb(129,64,0)","rgb(129,107,86)","rgb(104,52,0)","rgb(104,86,69)","rgb(79,39,0)","rgb(79,66,53)","rgb(255,191,0)","rgb(255,234,170)","rgb(189,141,0)","rgb(189,173,126)","rgb(129,96,0)","rgb(129,118,86)","rgb(104,78,0)","rgb(104,95,69)","rgb(79,59,0)","rgb(79,73,53)","rgb(255,255,0)","rgb(255,255,170)","rgb(189,189,0)","rgb(189,189,126)","rgb(129,129,0)","rgb(129,129,86)","rgb(104,104,0)","rgb(104,104,69)","rgb(79,79,0)","rgb(79,79,53)","rgb(191,255,0)","rgb(234,255,170)","rgb(141,189,0)","rgb(173,189,126)","rgb(96,129,0)","rgb(118,129,86)","rgb(78,104,0)","rgb(95,104,69)","rgb(59,79,0)","rgb(73,79,53)","rgb(127,255,0)","rgb(212,255,170)","rgb(94,189,0)","rgb(157,189,126)","rgb(64,129,0)","rgb(107,129,86)","rgb(52,104,0)","rgb(86,104,69)","rgb(39,79,0)","rgb(66,79,53)","rgb(63,255,0)","rgb(191,255,170)","rgb(46,189,0)","rgb(141,189,126)","rgb(31,129,0)","rgb(96,129,86)","rgb(25,104,0)","rgb(78,104,69)","rgb(19,79,0)","rgb(59,79,53)","rgb(0,255,0)","rgb(170,255,170)","rgb(0,189,0)","rgb(126,189,126)","rgb(0,129,0)","rgb(86,129,86)","rgb(0,104,0)","rgb(69,104,69)","rgb(0,79,0)","rgb(53,79,53)","rgb(0,255,63)","rgb(170,255,191)","rgb(0,189,46)","rgb(126,189,141)","rgb(0,129,31)","rgb(86,129,96)","rgb(0,104,25)","rgb(69,104,78)","rgb(0,79,19)","rgb(53,79,59)","rgb(0,255,127)","rgb(170,255,212)","rgb(0,189,94)","rgb(126,189,157)","rgb(0,129,64)","rgb(86,129,107)","rgb(0,104,52)","rgb(69,104,86)","rgb(0,79,39)","rgb(53,79,66)","rgb(0,255,191)","rgb(170,255,234)","rgb(0,189,141)","rgb(126,189,173)","rgb(0,129,96)","rgb(86,129,118)","rgb(0,104,78)","rgb(69,104,95)","rgb(0,79,59)","rgb(53,79,73)","rgb(0,255,255)","rgb(170,255,255)","rgb(0,189,189)","rgb(126,189,189)","rgb(0,129,129)","rgb(86,129,129)","rgb(0,104,104)","rgb(69,104,104)","rgb(0,79,79)","rgb(53,79,79)","rgb(0,191,255)","rgb(170,234,255)","rgb(0,141,189)","rgb(126,173,189)","rgb(0,96,129)","rgb(86,118,129)","rgb(0,78,104)","rgb(69,95,104)","rgb(0,59,79)","rgb(53,73,79)","rgb(0,127,255)","rgb(170,212,255)","rgb(0,94,189)","rgb(126,157,189)","rgb(0,64,129)","rgb(86,107,129)","rgb(0,52,104)","rgb(69,86,104)","rgb(0,39,79)","rgb(53,66,79)","rgb(0,63,255)","rgb(170,191,255)","rgb(0,46,189)","rgb(126,141,189)","rgb(0,31,129)","rgb(86,96,129)","rgb(0,25,104)","rgb(69,78,104)","rgb(0,19,79)","rgb(53,59,79)","rgb(0,0,255)","rgb(170,170,255)","rgb(0,0,189)","rgb(126,126,189)","rgb(0,0,129)","rgb(86,86,129)","rgb(0,0,104)","rgb(69,69,104)","rgb(0,0,79)","rgb(53,53,79)","rgb(63,0,255)","rgb(191,170,255)","rgb(46,0,189)","rgb(141,126,189)","rgb(31,0,129)","rgb(96,86,129)","rgb(25,0,104)","rgb(78,69,104)","rgb(19,0,79)","rgb(59,53,79)","rgb(127,0,255)","rgb(212,170,255)","rgb(94,0,189)","rgb(157,126,189)","rgb(64,0,129)","rgb(107,86,129)","rgb(52,0,104)","rgb(86,69,104)","rgb(39,0,79)","rgb(66,53,79)","rgb(191,0,255)","rgb(234,170,255)","rgb(141,0,189)","rgb(173,126,189)","rgb(96,0,129)","rgb(118,86,129)","rgb(78,0,104)","rgb(95,69,104)","rgb(59,0,79)","rgb(73,53,79)","rgb(255,0,255)","rgb(255,170,255)","rgb(189,0,189)","rgb(189,126,189)","rgb(129,0,129)","rgb(129,86,129)","rgb(104,0,104)","rgb(104,69,104)","rgb(79,0,79)","rgb(79,53,79)","rgb(255,0,191)","rgb(255,170,234)","rgb(189,0,141)","rgb(189,126,173)","rgb(129,0,96)","rgb(129,86,118)","rgb(104,0,78)","rgb(104,69,95)","rgb(79,0,59)","rgb(79,53,73)","rgb(255,0,127)","rgb(255,170,212)","rgb(189,0,94)","rgb(189,126,157)","rgb(129,0,64)","rgb(129,86,107)","rgb(104,0,52)","rgb(104,69,86)","rgb(79,0,39)","rgb(79,53,66)","rgb(255,0,63)","rgb(255,170,191)","rgb(189,0,46)","rgb(189,126,141)","rgb(129,0,31)","rgb(129,86,96)","rgb(104,0,25)","rgb(104,69,78)","rgb(79,0,19)","rgb(79,53,59)","rgb(51,51,51)","rgb(80,80,80)","rgb(105,105,105)","rgb(130,130,130)","rgb(190,190,190)","rgb(255,255,255)"],AC_COLORS_RGB_String=exports.AC_COLORS_RGB_String=["0,0,0","255,0,0","255,255,0","0,255,0","0,255,255","0,0,255","255,0,255","255,255,255","65,65,65","128,128,128","255,0,0","255,170,170","189,0,0","189,126,126","129,0,0","129,86,86","104,0,0","104,69,69","79,0,0","79,53,53","255,63,0","255,191,170","189,46,0","189,141,126","129,31,0","129,96,86","104,25,0","104,78,69","79,19,0","79,59,53","255,127,0","255,212,170","189,94,0","189,157,126","129,64,0","129,107,86","104,52,0","104,86,69","79,39,0","79,66,53","255,191,0","255,234,170","189,141,0","189,173,126","129,96,0","129,118,86","104,78,0","104,95,69","79,59,0","79,73,53","255,255,0","255,255,170","189,189,0","189,189,126","129,129,0","129,129,86","104,104,0","104,104,69","79,79,0","79,79,53","191,255,0","234,255,170","141,189,0","173,189,126","96,129,0","118,129,86","78,104,0","95,104,69","59,79,0","73,79,53","127,255,0","212,255,170","94,189,0","157,189,126","64,129,0","107,129,86","52,104,0","86,104,69","39,79,0","66,79,53","63,255,0","191,255,170","46,189,0","141,189,126","31,129,0","96,129,86","25,104,0","78,104,69","19,79,0","59,79,53","0,255,0","170,255,170","0,189,0","126,189,126","0,129,0","86,129,86","0,104,0","69,104,69","0,79,0","53,79,53","0,255,63","170,255,191","0,189,46","126,189,141","0,129,31","86,129,96","0,104,25","69,104,78","0,79,19","53,79,59","0,255,127","170,255,212","0,189,94","126,189,157","0,129,64","86,129,107","0,104,52","69,104,86","0,79,39","53,79,66","0,255,191","170,255,234","0,189,141","126,189,173","0,129,96","86,129,118","0,104,78","69,104,95","0,79,59","53,79,73","0,255,255","170,255,255","0,189,189","126,189,189","0,129,129","86,129,129","0,104,104","69,104,104","0,79,79","53,79,79","0,191,255","170,234,255","0,141,189","126,173,189","0,96,129","86,118,129","0,78,104","69,95,104","0,59,79","53,73,79","0,127,255","170,212,255","0,94,189","126,157,189","0,64,129","86,107,129","0,52,104","69,86,104","0,39,79","53,66,79","0,63,255","170,191,255","0,46,189","126,141,189","0,31,129","86,96,129","0,25,104","69,78,104","0,19,79","53,59,79","0,0,255","170,170,255","0,0,189","126,126,189","0,0,129","86,86,129","0,0,104","69,69,104","0,0,79","53,53,79","63,0,255","191,170,255","46,0,189","141,126,189","31,0,129","96,86,129","25,0,104","78,69,104","19,0,79","59,53,79","127,0,255","212,170,255","94,0,189","157,126,189","64,0,129","107,86,129","52,0,104","86,69,104","39,0,79","66,53,79","191,0,255","234,170,255","141,0,189","173,126,189","96,0,129","118,86,129","78,0,104","95,69,104","59,0,79","73,53,79","255,0,255","255,170,255","189,0,189","189,126,189","129,0,129","129,86,129","104,0,104","104,69,104","79,0,79","79,53,79","255,0,191","255,170,234","189,0,141","189,126,173","129,0,96","129,86,118","104,0,78","104,69,95","79,0,59","79,53,73","255,0,127","255,170,212","189,0,94","189,126,157","129,0,64","129,86,107","104,0,52","104,69,86","79,0,39","79,53,66","255,0,63","255,170,191","189,0,46","189,126,141","129,0,31","129,86,96","104,0,25","104,69,78","79,0,19","79,53,59","51,51,51","80,80,80","105,105,105","130,130,130","190,190,190","255,255,255"];"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _AppId2DM,_Drawing=_interopRequireDefault(require("./Drawing"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class AppId2DM{constructor(e){let{name:t=""}=e;this.name=t}static getAppIDs(e){let t=_getStartAppIDTableDxf._.call(AppId2DM,e[0]);for(let n=0;n<_Drawing.default.APPiDs.length;n++)t+=_getStartAppIDDxf._.call(AppId2DM,e[n+1]),t+=_getAppIdDXF._.call(AppId2DM,_Drawing.default.APPiDs[n]);return t+="0"+this.newLine+"ENDTAB"+this.newLine,t}}exports.default=AppId2DM,_AppId2DM=AppId2DM,_defineProperty(AppId2DM,"newLine","\r\n");var _getStartAppIDTableDxf={_:e=>"0"+_AppId2DM.newLine+"TABLE"+_AppId2DM.newLine+"2"+_AppId2DM.newLine+"APPID"+_AppId2DM.newLine+"5"+_AppId2DM.newLine+e+"100"+_AppId2DM.newLine+"AcDbSymbolTable"+_AppId2DM.newLine+"70"+_AppId2DM.newLine+_Drawing.default.APPiDs.length+_AppId2DM.newLine},_getStartAppIDDxf={_:e=>"0"+_AppId2DM.newLine+"APPID"+_AppId2DM.newLine+"5"+_AppId2DM.newLine+e+"100"+_AppId2DM.newLine+"AcDbSymbolTableRecord"+_AppId2DM.newLine+"100"+_AppId2DM.newLine+"AcDbRegAppTableRecord"+_AppId2DM.newLine},_getAppIdDXF={_:e=>"2"+_AppId2DM.newLine+e.name+_AppId2DM.newLine+"70"+_AppId2DM.newLine+"0"+_AppId2DM.newLine};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js");var _Arc2DM,_Math2D=_interopRequireDefault(require("./Math2D")),_lodash=_interopRequireDefault(require("lodash")),_LineType2DM=_interopRequireDefault(require("./LineType2DM")),_UtilDXF=require("./UtilDXF"),_Cords2D=_interopRequireDefault(require("./Cords2D")),_id=require("./id");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Arc2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r="#ffffff",colorIndex:i="7",lineType:d="ByLayer",layer:o="0",centerCords:l=null,radius:a=null,startAngle:s=null,endAngle:g=null}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.centerCords=l,this.radius=a,this.startAngle=s,this.endAngle=g}}exports.default=Arc2DM,_Arc2DM=Arc2DM,_defineProperty(Arc2DM,"newLine","\r\n"),_defineProperty(Arc2DM,"getMoved",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getMoved2D(e.centerCords,t,n),r}),_defineProperty(Arc2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Arc2DM.getMoved(e,t,n))),r}}),_defineProperty(Arc2DM,"getScaled",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getScaled2D(e.centerCords,t,n),r.radius=parseFloat(e.radius)*t,r}),_defineProperty(Arc2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Arc2DM.getScaled(e,t,n))),r}}),_defineProperty(Arc2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=_lodash.default.cloneDeep(e);if(r.centerCords=_Cords2D.default.getRotated2D(e.centerCords,t,n),r.startAngle=parseFloat(e.startAngle)+t,_Math2D.default.radians.rad360<r.startAngle){let e=r.startAngle/_Math2D.default.radians.rad360;r.startAngle-=parseInt(e)*_Math2D.default.radians.rad360}if(r.endAngle=parseFloat(e.endAngle)+t,_Math2D.default.radians.rad360<r.endAngle){let e=r.endAngle/_Math2D.default.radians.rad360;r.endAngle-=parseInt(e)*_Math2D.default.radians.rad360}return r}}),_defineProperty(Arc2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Arc2DM.getRotated(e,t,n))),r}}),_defineProperty(Arc2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getMirrored2D(e.centerCords,t,n),_Math2D.default.radians.rad90<=r.startAngle<=_Math2D.default.radians.rad0,r}),_defineProperty(Arc2DM,"getDxf",e=>{var t=Math.PI;let n="0"+_Arc2DM.newLine+"ARC"+_Arc2DM.newLine+"5"+_Arc2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Arc2DM.newLine+"AcDbEntity"+_Arc2DM.newLine+"8\r\n"+e.layer+_Arc2DM.newLine+"6\r\n"+e.lineType+_Arc2DM.newLine+"100"+_Arc2DM.newLine+"AcDbCircle"+_Arc2DM.newLine+"10"+_Arc2DM.newLine+e.centerCords.x+_Arc2DM.newLine+"20"+_Arc2DM.newLine+e.centerCords.y+_Arc2DM.newLine+"30"+_Arc2DM.newLine+e.centerCords.z+_Arc2DM.newLine+"40"+_Arc2DM.newLine+e.radius+_Arc2DM.newLine+"62"+_Arc2DM.newLine+e.colorIndex+_Arc2DM.newLine+"100"+_Arc2DM.newLine+"AcDbArc"+_Arc2DM.newLine+" 50"+_Arc2DM.newLine+180*e.startAngle/t+_Arc2DM.newLine+"51"+_Arc2DM.newLine+180*e.endAngle/t+_Arc2DM.newLine;return n});var _getIsDashed={_:e=>({center:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.CENTER.toLowerCase(),dashed:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DASHED.toLowerCase(),dotted:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DOTTED.toLowerCase(),phantom:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.PHANTOM.toLowerCase()})};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/esnext.string.replace-all.js");var _BlockRecords2DM,_Drawing=_interopRequireDefault(require("./Drawing")),_UtilDXF=require("./UtilDXF");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class BlockRecords2DM{constructor(e){let{name:t="",scalability:n="",explodability:r=""}=e;this.name=t,this.scalability=n,this.explodability=r}static getBlockRecords(){let e=_getStartBlockRecordTableDxf._.call(BlockRecords2DM);for(let t=0;t<_Drawing.default.BlockRecords.length;t++)_Drawing.default.BlockRecords[t].name&&(e+=_getStartBlockRecordDxf._.call(BlockRecords2DM),e+=_getBlockRecordDXF._.call(BlockRecords2DM,_Drawing.default.BlockRecords[t]));return e+="0"+this.newLine+"ENDTAB"+this.newLine,e}}exports.default=BlockRecords2DM,_BlockRecords2DM=BlockRecords2DM,_defineProperty(BlockRecords2DM,"newLine","\r\n");var _getStartBlockRecordTableDxf={_:()=>"0"+_BlockRecords2DM.newLine+"TABLE"+_BlockRecords2DM.newLine+"2"+_BlockRecords2DM.newLine+"BLOCK_RECORD"+_BlockRecords2DM.newLine+"5"+_BlockRecords2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_BlockRecords2DM.newLine+"AcDbSymbolTable"+_BlockRecords2DM.newLine+"70"+_BlockRecords2DM.newLine+_Drawing.default.BlockRecords.length+_BlockRecords2DM.newLine},_getStartBlockRecordDxf={_:()=>"0"+_BlockRecords2DM.newLine+"BLOCK_RECORD"+_BlockRecords2DM.newLine+"5"+_BlockRecords2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_BlockRecords2DM.newLine+"AcDbSymbolTableRecord"+_BlockRecords2DM.newLine+"100"+_BlockRecords2DM.newLine+"AcDbBlockTableRecord"+_BlockRecords2DM.newLine},_getBlockRecordDXF={_:e=>{let t=e.name.replaceAll("\r\n","");return"2"+_BlockRecords2DM.newLine+t+_BlockRecords2DM.newLine+"70"+_BlockRecords2DM.newLine+"0"+_BlockRecords2DM.newLine+"280"+_BlockRecords2DM.newLine+"1"+_BlockRecords2DM.newLine+"281"+_BlockRecords2DM.newLine+"0"+_BlockRecords2DM.newLine}};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _Blocks2DM,_Drawing=_interopRequireDefault(require("./Drawing")),_UtilDXF=require("./UtilDXF"),_Entities2D2=require("./_Entities2D");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Blocks2DM{constructor(e){let{id:t,handler:n="null",color:r="#ffffff",colorIndex:i="7",lineType:d="ByLayer",layer:o="0",name:l="",baseCords:a=null,blockType:s="1",scale:g=""}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.name=l,this.baseCords=a,this.blockType=s}static getDefaultBlocks(){let e="";for(let t=0;t<_Drawing.default.BlocksDefault.length;t++)e+=this.getStartBlock(),e+=this.getBlock(_Drawing.default.BlocksDefault[t]),e+=this.getEndBlock(_Drawing.default.BlocksDefault[t].layer),e+="67"+this.newLine+"1"+this.newLine;return e}static getBlocks(e){let t="";for(let n=0;n<e.length;n++)t+=this.getStartBlock(),t+=this.getBlock(_Drawing.default.BlocksDefault[n]),t+=this.getEndBlock(_Drawing.default.BlocksDefault[n].layer);return t}static getBlockEntity(e){return"0"+this.newLine+"INSERT"+this.newLine+"5"+this.newLine+_UtilDXF.UtilDXF.getHandler()+"330"+this.newLine+"70"+this.newLine+"100"+this.newLine+"AcDbEntity"+this.newLine+"8"+this.newLine+"0"+this.newLine+"100"+this.newLine+"AcDbBlockReference"+this.newLine+"2"+this.newLine+e.name+this.newLine+"10"+this.newLine+e.baseCords.x+this.newLine+"20"+this.newLine+e.baseCords.y+this.newLine+"30"+this.newLine+e.baseCords.z+this.newLine}static getBlockEntitiesDXF(e){if(_Entities2D2._Entities2D.isEmpty(e.entities2d))return{dxf:"",block_dxf:""};else{let t=_Entities2D2._Entities2D.getDxf(e.entities2d),n=new Blocks2DM({name:e.blockName,baseCords:e.position,blockType:"0"});_Drawing.default.BlockRecords.push({name:e.blockName});let r=Blocks2DM.getStartBlock(),i=Blocks2DM.getBlock(n),d=t.dxf,o=Blocks2DM.getEndBlock("0"),l=Blocks2DM.getBlockEntity(n),a=t.block_dxf+r+i+d+o;return{dxf:l,block_dxf:a}}}}exports.default=Blocks2DM,_Blocks2DM=Blocks2DM,_defineProperty(Blocks2DM,"newLine","\r\n"),_defineProperty(Blocks2DM,"getStartBlock",function(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"0";return"0"+_Blocks2DM.newLine+"BLOCK"+_Blocks2DM.newLine+"5"+_Blocks2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Blocks2DM.newLine+"AcDbEntity"+_Blocks2DM.newLine+"8"+_Blocks2DM.newLine+e+_Blocks2DM.newLine+"100"+_Blocks2DM.newLine+"AcDbBlockBegin"+_Blocks2DM.newLine}),_defineProperty(Blocks2DM,"getBlock",e=>"2"+_Blocks2DM.newLine+e.name+_Blocks2DM.newLine+"70"+_Blocks2DM.newLine+e.blockType+_Blocks2DM.newLine+"10"+_Blocks2DM.newLine+e.baseCords.x+_Blocks2DM.newLine+"20"+_Blocks2DM.newLine+e.baseCords.y+_Blocks2DM.newLine+"30"+_Blocks2DM.newLine+e.baseCords.z+_Blocks2DM.newLine+"3"+_Blocks2DM.newLine+e.name+_Blocks2DM.newLine+"1"+_Blocks2DM.newLine+_Blocks2DM.newLine),_defineProperty(Blocks2DM,"getEndBlock",e=>"0"+_Blocks2DM.newLine+"ENDBLK"+_Blocks2DM.newLine+"5"+_Blocks2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Blocks2DM.newLine+"AcDbEntity"+_Blocks2DM.newLine+"8"+_Blocks2DM.newLine+e+_Blocks2DM.newLine+"100"+_Blocks2DM.newLine+"AcDbBlockEnd"+_Blocks2DM.newLine),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js");var _Circle2DM,_lodash=_interopRequireDefault(require("lodash")),_LineType2DM=_interopRequireDefault(require("./LineType2DM")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Circle2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r="#ffffff",colorIndex:i="7",lineType:d="ByLayer",layer:o="0",centerCords:l=null,radius:a=null}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.centerCords=l,this.radius=a}}exports.default=Circle2DM,_Circle2DM=Circle2DM,_defineProperty(Circle2DM,"newLine","\r\n"),_defineProperty(Circle2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.centerCords.x=parseFloat(e.centerCords.x)+t,r.centerCords.y=parseFloat(e.centerCords.y)+n,r}}),_defineProperty(Circle2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Circle2DM.getMoved(e,t,n))),r}}),_defineProperty(Circle2DM,"getScaled",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getScaled2D(e.centerCords,t,n),r.radius=parseFloat(e.radius)*t,r}),_defineProperty(Circle2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Circle2DM.getScaled(e,t,n))),r}}),_defineProperty(Circle2DM,"getRotated",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getRotated2D(e.centerCords,t,n),e}),_defineProperty(Circle2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Circle2DM.getRotated(e,t,n))),r}}),_defineProperty(Circle2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getMirrored2D(e.centerCords,t,n),r}),_defineProperty(Circle2DM,"getDxf",e=>{let t="0"+_Circle2DM.newLine+"CIRCLE"+_Circle2DM.newLine+"5"+_Circle2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Circle2DM.newLine+"AcDbEntity"+_Circle2DM.newLine+"8"+_Circle2DM.newLine+e.layer+_Circle2DM.newLine+"6"+_Circle2DM.newLine+e.lineType+_Circle2DM.newLine+"100"+_Circle2DM.newLine+"AcDbCircle"+_Circle2DM.newLine+"10"+_Circle2DM.newLine+e.centerCords.x+_Circle2DM.newLine+"20"+_Circle2DM.newLine+e.centerCords.y+_Circle2DM.newLine+"30"+_Circle2DM.newLine+e.centerCords.z+_Circle2DM.newLine+"40"+_Circle2DM.newLine+e.radius+_Circle2DM.newLine+"62"+_Circle2DM.newLine+e.colorIndex+_Circle2DM.newLine;return t});var _getIsDashed={_:e=>({center:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.CENTER.toLowerCase(),dashed:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DASHED.toLowerCase(),dotted:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DOTTED.toLowerCase(),phantom:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.PHANTOM.toLowerCase()})};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.number.to-fixed.js"),require("core-js/modules/es.parse-float.js");var _Cords2D,_Math2D=_interopRequireDefault(require("./Math2D")),_lodash=_interopRequireDefault(require("lodash"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Cords2D{constructor(){let e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0;this.x=e,this.y=t,this.z=n,this.plineBulge=r}static getMovedObject2D(e,t,n){let r=_lodash.default.cloneDeep(e);return _lodash.default.forEach(e,function(e,i){r[i]=Cords2D.getMoved2D({cords:e,moveX:t,moveY:n})}),_objectSpread({},r)}static getMovedObject2D_withCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMovedObject2D(e,r,i)}static getScaledObject2D(e,t,n){let r=_lodash.default.cloneDeep(e);return _lodash.default.forEach(e,function(e,i){r[i]=Cords2D.getScaled2D(e,t,n)}),_objectSpread({},r)}static getRotatedObject2D(e,t,n){let r=_lodash.default.cloneDeep(e);return _lodash.default.forEach(e,function(e,i){r[i]=Cords2D.getRotated2D(e,t,n)}),_objectSpread({},r)}static getMirrored2D(e,t){var n=Math.abs;let r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"xy",i=n(t.x-e.x),d=n(t.y-e.y),o=i+i,l=d+d,a=e.x,s=e.y;if(0!==i&&(e.x<t.x?a+=o:a-=o),0!==d&&(e.y<t.y?s+=l:s-=l),"x"===r)new Cords2D(a,e.y);else if("y"===r)new Cords2D(e.x,s);else return new Cords2D(a,s)}static getLineWithCircleIntersectCords2D(e,n,r,i){var d=Math.sqrt,o=Math.pow;let l=d(o(n.x-e.x,2)+o(n.y-e.y,2)),a=(n.x-e.x)/l,s=(n.y-e.y)/l,g=a*(r.x-e.x)+s*(r.y-e.y),t=g*a+e.x,u=g*s+e.y,c=d(o(t-r.x,2)+o(u-r.y,2));if(c<i){let t=d(o(i,2)-o(c,2)),n=(g-t)*a+e.x,r=(g-t)*s+e.y,l=(g+t)*a+e.x,u=(g+t)*s+e.y;return{first_cords:new Cords2D(n,r),second_cords:new Cords2D(l,u)}}return c===i?{first_cords:new Cords2D(t,u),second_cords:null}:(console.log("outside",!1),{first_cords:null,second_cords:null})}static getRectangularCenterWithCords2D(e,t,n,r){let i=(n.x-e.x)/2,d=(r.y-n.y)/2;return new Cords2D(e.x+i,n.y+d)}static get_center_cords_with_lx_rx_by_ty(e,t,n,r){return new Cords2D(e+(t-e)/2,n+(r-n)/2)}static getRectangularCenterWithLines2DM(e,t,n,r){let i=(r.startCords.x-e.startCords.x)/2,d=(r.endCords.y-r.startCords.y)/2;return new Cords2D(e.startCords.x+i,e.startCords.y+d)}static isLinesIntersect(e,t,n,r){function i(e,t,n){var r=Math.min,i=Math.max;return t.x<=i(e.x,n.x)&&t.x>=r(e.x,n.x)&&t.y<=i(e.y,n.y)&&t.y>=r(e.y,n.y)}function d(e,t,n){let r=(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y);return 0==r?0:0<r?1:2}return function(e,t,n,r){let o=d(e,t,n),l=d(e,t,r),a=d(n,r,e),s=d(n,r,t);return!(o===l||a===s)||!!(0===o&&i(e,n,t))||!!(0===l&&i(e,r,t))||!!(0===a&&i(n,e,r))||!!(0===s&&i(n,t,r))}(e,t,n,r)}static getIntersectCordsLines(e,t,n,r){var i=Number.MAX_VALUE;let d=function(e,t,n,r){let d=t.y-e.y,o=e.x-t.x,l=d*e.x+o*e.y,a=r.y-n.y,s=n.x-r.x,g=a*n.x+s*n.y,u=d*s-a*o;if(0===u)return new Cords2D(i,i);else{return new Cords2D((s*l-o*g)/u,(d*g-a*l)/u)}}(e,t,n,r);return d.x===i&&d.y===i?null:d}static getMatchPointCords(e){let{cords:r=new Cords2D,matchPoint:i="lb",width:t,height:n}=e,d=r.x,o=r.y,l=d+t,a=o+n,s=d-t,g=o-n;return"lb"===i?{lb:new Cords2D(d,o),rb:new Cords2D(l,o),rt:new Cords2D(l,a),lt:new Cords2D(d,a)}:"rb"===i?{lb:new Cords2D(s,o),rb:new Cords2D(d,o),rt:new Cords2D(d,a),lt:new Cords2D(s,a)}:"lt"===i?{lb:new Cords2D(d,g),rb:new Cords2D(l,g),rt:new Cords2D(l,o),lt:new Cords2D(d,o)}:"rt"===i?{lb:new Cords2D(s,g),rb:new Cords2D(d,g),rt:new Cords2D(d,o),lt:new Cords2D(s,o)}:{lb:new Cords2D(d,o),rb:new Cords2D(l,o),rt:new Cords2D(l,a),lt:new Cords2D(d,a)}}}exports.default=Cords2D,_Cords2D=Cords2D,_defineProperty(Cords2D,"getFixedDecimals",function(){let e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new _Cords2D,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:4,n=_lodash.default.cloneDeep(e);return n.x=parseFloat(e.x.toFixed(t)),n.y=parseFloat(e.y.toFixed(t)),n.z=parseFloat(e.z.toFixed(t)),n}),_defineProperty(Cords2D,"getMoved2D",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.x=parseFloat(e.x)+t,r.y=parseFloat(e.y)+n,r}}),_defineProperty(Cords2D,"getMovedArray2D",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Cords2D.getMoved2D(e,t,n))),r}}),_defineProperty(Cords2D,"getMoved2D_withCords",(e,t,n)=>{let r=n.x-t.x,i=n.y-t.y;return _Cords2D.getMoved2D(e,r,i)}),_defineProperty(Cords2D,"getMovedArray2D_withCords",(e,t,n)=>{let r=n.x-t.x,i=n.y-t.y;return _Cords2D.getMovedArray2D(e,r,i)}),_defineProperty(Cords2D,"getScaled2D",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);if(1!==t){let i=n.x-(n.x-parseFloat(e.x))*t,d=n.y-(n.y-parseFloat(e.y))*t;r.x=i,r.y=d}return r}),_defineProperty(Cords2D,"getScaledArray2D",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Cords2D.getScaled2D(e,t,n))),r}}),_defineProperty(Cords2D,"getRotated2D",function(e,t){var n=Math.floor;let r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let i=_lodash.default.cloneDeep(e),d=_Math2D.default.getAngle_num(r.x,r.y,i.x,i.y),o=_Math2D.default.getDistance_num(r.x,r.y,i.x,i.y),l=d+t;if(_Math2D.default.radians.rad360<l){let e=l/_Math2D.default.radians.rad360;l-=n(e)*_Math2D.default.radians.rad360}let a=_Math2D.default.getCordsWithLengthAndAngle(r,o,l);return i.x=a.x,i.y=a.y,i}}),_defineProperty(Cords2D,"getRotatedArray2D",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Cords2D.getRotated2D(e,t,n))),r}}),_defineProperty(Cords2D,"getMirroredArray2D",(e,t)=>{let n=[];return e.forEach(e=>n.push(_Cords2D.getMirrored2D(e,t))),n}),_defineProperty(Cords2D,"getLineWithLineIntersectCords2D_num",(e,t,n,r,i,d,o,l)=>{let a,s=(l-d)*(n-e)-(o-i)*(r-t);return 0==s?null:(a=((o-i)*(t-d)-(l-d)*(e-i))/s,new _Cords2D(e+a*(n-e),t+a*(r-t)))}),_defineProperty(Cords2D,"getLineWithLineIntersectCords2D",(e,t,n,r)=>{let i,d=(r.y-n.y)*(t.x-e.x)-(r.x-n.x)*(t.y-e.y);if(0==d)return null;i=((r.x-n.x)*(e.y-n.y)-(r.y-n.y)*(e.x-n.x))/d;let o=new _Cords2D(e.x+i*(t.x-e.x),e.y+i*(t.y-e.y));return _Cords2D.getFixedDecimals(o,4)}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js");var _Dimension2DM,_Point2DM=_interopRequireDefault(require("./Point2DM")),_Line2DM=_interopRequireDefault(require("./Line2DM")),_Solid2DM=_interopRequireDefault(require("./Solid2DM")),_Cords2D=_interopRequireDefault(require("./Cords2D")),_ACColors=require("./ACColors"),_id=require("./id");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Dimension2DM{}exports.default=Dimension2DM,_Dimension2DM=Dimension2DM,_defineProperty(Dimension2DM,"SolidLength_mm",2.5),_defineProperty(Dimension2DM,"SolidHalfHeight_mm",.3333),_defineProperty(Dimension2DM,"SolidLength_in",.625),_defineProperty(Dimension2DM,"SolidHalfHeight_in",.125),_defineProperty(Dimension2DM,"getDimension",e=>{let t,n,{id:l=_id.ID.getId(),baseCords:r,oppDist:i,distanceFromBase:d,dimStyle:o}=e;"2"===o.unit?(t=_Dimension2DM.SolidLength_mm,n=_Dimension2DM.SolidHalfHeight_mm):(t=_Dimension2DM.SolidLength_in,n=_Dimension2DM.SolidHalfHeight_in);let a=new _Cords2D.default(r.x,r.y+i),s=parseFloat(o.gapExtExo),g=parseFloat(o.scale),u=new _Point2DM.default({id:"DLBP"+l,lineType:"CONTINUOUS",pointCords:r}),c=new _Point2DM.default({id:"DRTP"+l,lineType:"CONTINUOUS",pointCords:a}),f=new _Line2DM.default({id:"DLBL"+l,color:_ACColors.ACColors[parseInt(o.lineColorIndex)],colorIndex:o.lineColorIndex,layer:"Dimensions",lineType:"CONTINUOUS",startCords:new _Cords2D.default(r.x+s,r.y),endCords:new _Cords2D.default(r.x+d+s+s,r.y)}),y=new _Line2DM.default({id:"DRTL"+l,color:_ACColors.ACColors[parseInt(o.lineColorIndex)],colorIndex:o.lineColorIndex,layer:"Dimensions",lineType:"CONTINUOUS",startCords:new _Cords2D.default(a.x+s,a.y),endCords:new _Cords2D.default(a.x+d+s+s,a.y)}),L=new _Cords2D.default(f.endCords.x-s,f.endCords.y),D=new _Cords2D.default(L.x-n,L.y+t),w=new _Cords2D.default(L.x+n,L.y+t),p=new _Solid2DM.default({id:"DLBS"+l,color:_ACColors.ACColors[parseInt(o.lineColorIndex)],colorIndex:o.lineColorIndex,layer:"Dimensions",lineType:"CONTINUOUS",firstCords:L,secondCords:D,thirdCords:w,fourthCords:w}),m=new _Cords2D.default(y.endCords.x-s,y.endCords.y),A=new _Cords2D.default(m.x-n,m.y-t),h=new _Cords2D.default(m.x+n,m.y-t),b=new _Solid2DM.default({id:"DRTS"+l,color:_ACColors.ACColors[parseInt(o.lineColorIndex)],colorIndex:o.lineColorIndex,layer:"Dimensions",lineType:"CONTINUOUS",firstCords:m,secondCords:A,thirdCords:h,fourthCords:h}),x=_Solid2DM.default.getScaled(p,g,u.pointCords),C=_Line2DM.default.getScaled(f,g,u.pointCords),_=_Solid2DM.default.getScaled(b,g,c.pointCords),E=_Line2DM.default.getScaled(y,g,c.pointCords),T=new _Line2DM.default({id:"DML"+l,color:_ACColors.ACColors[parseInt(o.lineColorIndex)],colorIndex:o.lineColorIndex,layer:"Dimensions",lineType:"CONTINUOUS",startCords:new _Cords2D.default(x.firstCords.x,x.secondCords.y),endCords:new _Cords2D.default(_.firstCords.x,_.secondCords.y)}),v=Math.abs(T.endCords.y-T.startCords.y),M=new _Cords2D.default(T.startCords.x-s*g-parseFloat(o.textHeight)/2*g,T.startCords.y+v/2),S=new _Cords2D.default(T.startCords.x+s*g+parseFloat(o.textHeight)/2*g,T.startCords.y+v/2);return{leftBottomPoint:u,leftBottomLine:C,leftBottomArrowSolid:x,rightTopPoint:c,rightTopLine:E,rightTopArrowSolid:_,middleLine:T,leftBottomMTextCords:M,rightTopMTextCords:S}}),"use strict",require("core-js/modules/es.symbol.description.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.regexp.to-string.js");var _DimH2DM,_id=require("./id"),_Cords2D=_interopRequireDefault(require("./Cords2D")),_Point2DM=_interopRequireDefault(require("./Point2DM")),_Line2DM=_interopRequireDefault(require("./Line2DM")),_lodash=_interopRequireDefault(require("lodash")),_Math2D=_interopRequireDefault(require("./Math2D")),_MText2DM=_interopRequireDefault(require("./MText2DM")),_Solid2DM=_interopRequireDefault(require("./Solid2DM")),_Entities2D2=require("./_Entities2D"),_BlockEntities2D2=require("./_BlockEntities2D"),_Drawing=_interopRequireDefault(require("./Drawing")),_UtilDXF=require("./UtilDXF");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}function _assertClassBrand(r,e,t){if("function"==typeof r?r===e:r.has(e))return 3>arguments.length?e:t;throw new TypeError("Private element is not present on this object")}class DimH2DM{constructor(e){let{id:t=_id.ID.getId(),leftCords:n=null,rightCords:r=null,distanceFromBase:i=5,dimPos:d="c",isDimTop:o=!0,dimStyle:l=null,dimType:a="DLI",rotationAngleInRadians:s=0,rot_match_point:g="lb",text:u=""}=e;this.id=t,this.dimType=a,this.leftCords=n,this.rightCords=r,this.distanceFromBase=i,this.dimPos=d,this.isDimTop=o,this.rot_match_point=g,this.rotationAngleInRadians=s,this.dimStyle=l,this.text=u}static get_horizontal_dimension(e){let t,n,r=e.id,i=e.dimStyle,d=parseFloat(i.scale),o=e.text.toString(),l=1.4*o.length*d,a=i.lineType,s=i.layer,g=i.textColor,u=i.textColorIndex,c=i.lineColor,f=i.lineColorIndex,y=parseFloat(i.textHeight)*d,L=e.dimPos,D=parseFloat(i.gapExtExo)*d,w=e.leftCords,p=e.rightCords,m=e.isDimTop,A=e.distanceFromBase*d;"2"===i.unit?(t=_assertClassBrand(DimH2DM,this,_SOLID_LENGTH_MM)._*d,n=_assertClassBrand(DimH2DM,this,_SOLID_HALF_HEIGHT_MM)._*d):(t=_assertClassBrand(DimH2DM,this,_SOLID_LENGTH_IN)._*d,n=_assertClassBrand(DimH2DM,this,_SOLID_HALF_HEIGHT_IN)._*d);let h,b,x,C=_Math2D.default.getDistance(w,p),_=A+D,E=_lodash.default.cloneDeep(w),T=_lodash.default.cloneDeep(p);m?(h=new _Cords2D.default(E.x,E.y+D),b=new _Cords2D.default(E.x,h.y+_),x=new _Cords2D.default(b.x,b.y-D)):(h=new _Cords2D.default(E.x,E.y-D),b=new _Cords2D.default(E.x,h.y-_),x=new _Cords2D.default(b.x,b.y+D));let v=new _Cords2D.default(h.x+C,h.y),M=new _Cords2D.default(b.x+C,b.y),S=new _Cords2D.default(x.x+C,x.y),F=x,P=new _Cords2D.default(x.x+t,x.y+n),B=new _Cords2D.default(x.x+t,x.y-n),j=S,R=new _Cords2D.default(S.x-t,S.y+n),I=new _Cords2D.default(S.x-t,S.y-n),k=new _Cords2D.default(x.x+C/2,x.y+y/2+d);if("l"===L){let e=_lodash.default.cloneDeep(x),r=_lodash.default.cloneDeep(S);x.x-=l+t+2*d,S.x=S.x+t+2*d,k.x-=C/2+t+d+l/2,F=e,P=new _Cords2D.default(e.x-t,e.y+n),B=new _Cords2D.default(e.x-t,e.y-n),j=r,R=new _Cords2D.default(r.x+t,r.y+n),I=new _Cords2D.default(r.x+t,r.y-n)}else if("r"===L){let e=_lodash.default.cloneDeep(x),r=_lodash.default.cloneDeep(S);x.x-=t+2*d,S.x=S.x+l+t+2*d,k.x+=C/2+t+d+l/2,F=e,P=new _Cords2D.default(e.x-t,e.y+n),B=new _Cords2D.default(e.x-t,e.y-n),j=r,R=new _Cords2D.default(r.x+t,r.y+n),I=new _Cords2D.default(r.x+t,r.y-n)}let O=new _Point2DM.default({id:"DLP"+r,lineType:a,pointCords:E}),N=new _Point2DM.default({id:"DRP"+r,lineType:a,pointCords:T}),H=new _Line2DM.default({id:"DLL"+r,color:c,colorIndex:f,layer:s,lineType:a,startCords:h,endCords:b}),U=new _Line2DM.default({id:"DRL"+r,color:c,colorIndex:f,layer:s,lineType:a,startCords:v,endCords:M}),z=new _Line2DM.default({id:"DML"+r,color:c,colorIndex:f,layer:s,lineType:a,startCords:x,endCords:S}),X=new _MText2DM.default({cords:k,id:"DMT"+r,recWidth:3*d*o.length,height:y,text:o,color:g,colorIndex:u}),V=new _Solid2DM.default({id:"DLS"+r,color:c,colorIndex:f,layer:s,lineType:a,firstCords:F,secondCords:P,thirdCords:B,fourthCords:B}),W=new _Solid2DM.default({id:"DRS"+r,color:c,colorIndex:f,layer:s,lineType:a,firstCords:j,secondCords:R,thirdCords:I,fourthCords:I});return{lineArr:[H,U,z],solidArr:[V,W],pointArr:[O,N],mTextArr:[X]}}static get_rotation_horizontal_dimension(e){let t=this.get_horizontal_dimension(e);const n=e.rotationAngleInRadians,r="lb"===e.rot_match_point?e.leftCords:e.rightCords;if(0===n)return _objectSpread({},t);else{let e=_Line2DM.default.getRotatedArray(t.lineArr,n,r),i=_Solid2DM.default.getRotatedArray(t.solidArr,n,r),d=_Point2DM.default.getRotatedArray(t.pointArr,n,r),o=_MText2DM.default.getRotatedArray(t.mTextArr,n,r);return{lineArr:e,solidArr:i,pointArr:d,mTextArr:o}}}static getMovedWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMoved(e,r,i)}static getMovedArrayWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMovedArray(e,r,i)}static getDxf_entities2d(e){let t=this.get_rotation_horizontal_dimension(e),n=t.lineArr[0],r=t.lineArr[1],i=t.lineArr[2],d=t.solidArr[0],o=t.solidArr[1],l=t.pointArr[0],a=t.pointArr[1],s=t.mTextArr[0],g="";return g+=_Point2DM.default.getDxf(l),g+=_Point2DM.default.getDxf(a),g+=_Line2DM.default.getDxf(n),g+=_Line2DM.default.getDxf(r),g+=_Line2DM.default.getDxf(i),g+=_Solid2DM.default.getDxf(d),g+=_Solid2DM.default.getDxf(o),g+=_MText2DM.default.getDxf(s),g}static getDxf_block_entities2d(e){let t=new _Entities2D2._Entities2D(_objectSpread({},this.get_rotation_horizontal_dimension(e))),n=new _BlockEntities2D2._BlockEntities2D({entities2d:t,blockName:"DimH"+_id.ID.getBlockId()});return _BlockEntities2D2._BlockEntities2D.getDxf(n)}}exports.default=DimH2DM,_DimH2DM=DimH2DM;var _SOLID_LENGTH_MM={_:2.5},_SOLID_HALF_HEIGHT_MM={_:.3333},_SOLID_LENGTH_IN={_:.625},_SOLID_HALF_HEIGHT_IN={_:.125};_defineProperty(DimH2DM,"getMoved",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=_lodash.default.cloneDeep(e);return r.leftCords=_Cords2D.default.getMoved2D(e.leftCords,t,n),r.rightCords=_Cords2D.default.getMoved2D(e.rightCords,t,n),r}),_defineProperty(DimH2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_DimH2DM.getMoved(e,t,n))),r}}),_defineProperty(DimH2DM,"getScaled",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.leftCords=_Cords2D.default.getScaled2D(e.leftCords,t,n),r.rightCords=_Cords2D.default.getScaled2D(e.rightCords,t,n),r.dimStyle.scale=t,r}),_defineProperty(DimH2DM,"getScaledArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_DimH2DM.getScaled(e,t,n))),r}}),_defineProperty(DimH2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=_lodash.default.cloneDeep(e);return r.leftCords=_Cords2D.default.getRotated2D(e.leftCords,t,n),r.rightCords=_Cords2D.default.getScaled2D(e.rightCords,t,n),r}}),_defineProperty(DimH2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_DimH2DM.getRotated(e,t,n))),r}}),_defineProperty(DimH2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.leftCords=_Cords2D.default.getMirrored2D(e.leftCords,t,n),r.rightCords=_Cords2D.default.getMirrored2D(e.rightCords,t,n),r}),_defineProperty(DimH2DM,"getMirroredArray",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=[];return e.forEach(e=>r.push(_DimH2DM.getMirrored(e,t,n))),r}),_defineProperty(DimH2DM,"getDimensionDxf",e=>{let t=_DimH2DM.get_rotation_horizontal_dimension(e);0!==e.rotationAngleInRadians&&console.log("entities2d",t);let n=_id.ID.getDimBlockId();return _Drawing.default.BlockRecords.push({name:n}),{dxf:_DimH2DM.getEntityBlockDxf(e,t,n),block_dxf:_DimH2DM.getBlockDxf(e,t,n)}}),_defineProperty(DimH2DM,"getDimensionDxfArray",e=>{let t="",n="";for(let r,d=0;d<e.length;d++)r=_DimH2DM.getDimensionDxf(e[d]),t+=r.dxf,n+=r.block_dxf;return{dxf:t,block_dxf:n}}),_defineProperty(DimH2DM,"newLine","\r\n"),_defineProperty(DimH2DM,"getBlockDxf",(e,t,n)=>{let r=e.dimStyle,i=r.layer;return"0"+_DimH2DM.newLine+"BLOCK"+_DimH2DM.newLine+"5"+_DimH2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimH2DM.newLine+"AcDbEntity"+_DimH2DM.newLine+"100"+_DimH2DM.newLine+"AcDbBlockBegin"+_DimH2DM.newLine+"2"+_DimH2DM.newLine+n+"70"+_DimH2DM.newLine+"1"+_DimH2DM.newLine+"10"+_DimH2DM.newLine+t.lineArr[0].startCords.x+_DimH2DM.newLine+"20"+_DimH2DM.newLine+t.lineArr[0].startCords.y+_DimH2DM.newLine+"30"+_DimH2DM.newLine+t.lineArr[0].startCords.z+_DimH2DM.newLine+"3"+_DimH2DM.newLine+n+"1"+_DimH2DM.newLine+_DimH2DM.newLine+_Line2DM.default.getDxf(t.lineArr[0])+_Line2DM.default.getDxf(t.lineArr[1])+_Line2DM.default.getDxf(t.lineArr[2])+_MText2DM.default.getDxf(t.mTextArr[0])+_Solid2DM.default.getDxf(t.solidArr[0])+_Solid2DM.default.getDxf(t.solidArr[1])+_Point2DM.default.getDxf(t.pointArr[0])+_Point2DM.default.getDxf(t.pointArr[1])+"0"+_DimH2DM.newLine+"ENDBLK"+_DimH2DM.newLine+"5"+_DimH2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimH2DM.newLine+"AcDbEntity"+_DimH2DM.newLine+"8"+_DimH2DM.newLine+i+_DimH2DM.newLine+"100"+_DimH2DM.newLine+"AcDbBlockEnd"+_DimH2DM.newLine}),_defineProperty(DimH2DM,"getEntityBlockDxf",(e,t,n)=>{let r=e.dimStyle,i=r.lineType,d=r.layer,o="DLI"===e.dimType?"32":"33",l="0"+_DimH2DM.newLine+"DIMENSION"+_DimH2DM.newLine+"5"+_DimH2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimH2DM.newLine+"AcDbEntity"+_DimH2DM.newLine+"8"+_DimH2DM.newLine+d+_DimH2DM.newLine+"6"+_DimH2DM.newLine+i+_DimH2DM.newLine+"100"+_DimH2DM.newLine+"AcDbDimension"+_DimH2DM.newLine+"2"+_DimH2DM.newLine+n+"10"+_DimH2DM.newLine+t.solidArr[0].firstCords.x+_DimH2DM.newLine+"20"+_DimH2DM.newLine+t.solidArr[0].firstCords.y+_DimH2DM.newLine+"30"+_DimH2DM.newLine+t.solidArr[0].firstCords.z+_DimH2DM.newLine+"11"+_DimH2DM.newLine+t.mTextArr[0].cords.x+_DimH2DM.newLine+"21"+_DimH2DM.newLine+t.mTextArr[0].cords.y+_DimH2DM.newLine+"31"+_DimH2DM.newLine+t.mTextArr[0].cords.z+_DimH2DM.newLine+"70"+_DimH2DM.newLine+o+_DimH2DM.newLine+"71"+_DimH2DM.newLine+"5"+_DimH2DM.newLine+"1"+_DimH2DM.newLine+t.mTextArr[0].text+_DimH2DM.newLine+"3"+_DimH2DM.newLine+r.name+_DimH2DM.newLine+"100"+_DimH2DM.newLine+"AcDbAlignedDimension"+_DimH2DM.newLine+"13"+_DimH2DM.newLine+t.pointArr[1].pointCords.x+_DimH2DM.newLine+"23"+_DimH2DM.newLine+t.pointArr[1].pointCords.y+_DimH2DM.newLine+"33"+_DimH2DM.newLine+t.pointArr[1].pointCords.z+_DimH2DM.newLine+"14"+_DimH2DM.newLine+t.pointArr[0].pointCords.x+_DimH2DM.newLine+"24"+_DimH2DM.newLine+t.pointArr[0].pointCords.y+_DimH2DM.newLine+"34"+_DimH2DM.newLine+t.pointArr[0].pointCords.z+_DimH2DM.newLine;return"DAL"!==e.dimType&&(l+="100"+_DimH2DM.newLine+"AcDbRotatedDimension"+_DimH2DM.newLine),l}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class DimHSmall2DM{constructor(e){let{id:t,handler:n="null",lineType:r="CONTINUOUS",leftCords:i=null,rightCords:d=null,distanceFromBase:o=5,isDimLeft:l=!0,isDimTop:a=!0,dimStyle:s=null,dimType:g="DLI",textCords:u=null,text:c="",layer:f="Dimensions",entities2d:y=null,dxf:L=""}=e;this.id=t,this.handler=n,this.layer=f,this.lineType=r,this.dimType=g,this.leftCords=i,this.rightCords=d,this.distanceFromBase=o,this.isDimLeft=l,this.isDimTop=a,this.dimStyle=s,this.text=c,this.textCords=u,this.entities2d=y,this.dxf=L}}exports.default=DimHSmall2DM,"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js");var _DimLinear2DM,_Dimension2DM=_interopRequireDefault(require("./Dimension2DM")),_ACColors=require("./ACColors"),_MText2DM=_interopRequireDefault(require("./MText2DM")),_Math2D=_interopRequireDefault(require("./Math2D")),_Line2DM=_interopRequireDefault(require("./Line2DM")),_Solid2DM=_interopRequireDefault(require("./Solid2DM")),_Point2DM=_interopRequireDefault(require("./Point2DM")),_lodash=_interopRequireDefault(require("lodash")),_UtilDXF=require("./UtilDXF"),_Entities2D2=require("./_Entities2D"),_Cords2D=_interopRequireDefault(require("./Cords2D")),_id=require("./id"),_Drawing=_interopRequireDefault(require("./Drawing"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class DimLinear2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r=_ACColors.ACColors[3],colorIndex:i="3",lineColor:d=_ACColors.ACColors[8],lineColorIndex:o="8",lineType:l="CONTINUOUS",leftBottomBaseCords:a=null,rightTopBaseCords:s=null,distanceFromBase:g=5,direction:u=null,dimStyle:c=null,dimType:f="DLI",leftBottomMTextCords:y=null,rightTopMTextCords:L=null,text:D="",layer:w="Dimensions",entities2d:p=null,dxf:m=""}=e;this.id=t,this.handler=n,this.layer=w,this.color=r,this.lineColor=d,this.lineType=l,this.colorIndex=i,this.dimType=f,this.lineColorIndex=o,this.leftBottomBaseCords=a,this.rightTopBaseCords=s,this.distanceFromBase=g,this.direction=u,this.dimStyle=c,this.text=D,this.leftBottomMTextCords=y,this.rightTopMTextCords=L,this.entities2d=p,this.dxf=m}}exports.default=DimLinear2DM,_DimLinear2DM=DimLinear2DM,_defineProperty(DimLinear2DM,"newLine","\r\n"),_defineProperty(DimLinear2DM,"Left","left"),_defineProperty(DimLinear2DM,"Right","Right"),_defineProperty(DimLinear2DM,"Top","Top"),_defineProperty(DimLinear2DM,"Bottom","Bottom"),_defineProperty(DimLinear2DM,"getDimLinear",e=>{let t,n,r=_lodash.default.cloneDeep(e),i=e.direction;n=_Math2D.default.getDistance(e.leftBottomBaseCords,e.rightTopBaseCords),_DimLinear2DM.Left===i||_DimLinear2DM.Bottom===i?t=e.rightTopBaseCords:_DimLinear2DM.Right===i||_DimLinear2DM.Top===i?t=e.leftBottomBaseCords:console.log("direction error");let d=_Dimension2DM.default.getDimension({id:e.id,baseCords:t,oppDist:n,distanceFromBase:e.distanceFromBase,dimStyle:e.dimStyle}),o=[],l=[],a=[];o.push(d.leftBottomLine),o.push(d.rightTopLine),o.push(d.middleLine),l.push(d.leftBottomArrowSolid),l.push(d.rightTopArrowSolid),a.push(d.leftBottomPoint),a.push(d.rightTopPoint),r.leftBottomTextCords=d.leftBottomMTextCords,r.rightTopTextCords=d.rightTopMTextCords,r.entities2d=new _Entities2D2._Entities2D({lineArr:o,pointArr:a,mTextArr:[],solidArr:l});let s=r.text;"2"!==e.dimStyle.unit;let g={id:"DMLT"+r.id,recWidth:3*e.dimStyle.scale*s.length,height:parseFloat(r.dimStyle.textHeight)*r.dimStyle.scale,text:s};if(_DimLinear2DM.Left===i){let e=new _MText2DM.default(_objectSpread({cords:d.rightTopMTextCords,rotationAngleRadians:_Math2D.default.toRadians(270)},g));return r.entities2d.mTextArr.push(e),_DimLinear2DM.getRotated(r,_Math2D.default.toRadians(180),d.leftBottomPoint.pointCords)}if(_DimLinear2DM.Right===i){let e=new _MText2DM.default(_objectSpread({cords:d.leftBottomMTextCords,rotationAngleRadians:_Math2D.default.toRadians(90)},g));return r.entities2d.mTextArr.push(e),r}if(_DimLinear2DM.Top===i){let e=new _MText2DM.default(_objectSpread({cords:d.rightTopMTextCords,rotationAngleRadians:_Math2D.default.toRadians(-90)},g));return r.entities2d.mTextArr.push(e),_DimLinear2DM.getRotated(r,_Math2D.default.toRadians(90),d.leftBottomPoint.pointCords)}if(_DimLinear2DM.Bottom===i){let e=new _MText2DM.default(_objectSpread({cords:d.leftBottomMTextCords,rotationAngleRadians:_Math2D.default.toRadians(90)},g));return r.entities2d.mTextArr.push(e),_DimLinear2DM.getRotated(r,_Math2D.default.toRadians(270),d.leftBottomPoint.pointCords)}console.log("error in direction DIMLinear2dM")}),_defineProperty(DimLinear2DM,"getDimLinearArray",e=>{let t=[];return e.forEach(e=>t.push(_DimLinear2DM.getDimLinear(e))),t}),_defineProperty(DimLinear2DM,"getMoved",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=_lodash.default.cloneDeep(e);return r.entities2d=_Entities2D2._Entities2D.getMoved({entities:e.entities2d,rotationAngle:t,rotationCords:n}),r}),_defineProperty(DimLinear2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_DimLinear2DM.getMoved(e,t,n))),r}}),_defineProperty(DimLinear2DM,"getScaled",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:new _Cords2D.default;if(1===t)return e;else{let d=_lodash.default.cloneDeep(e);return d.entities2d=_Entities2D2._Entities2D.getScaled({entities:e.entities2d,moveX:n,moveY:r,scale:t,scalePoint:i}),d}}),_defineProperty(DimLinear2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:0,i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:new _Cords2D.default;if(1===t)return e;else{let n=[];return e.forEach(e=>n.push(_DimLinear2DM.getScaled(e,t,i))),n}}),_defineProperty(DimLinear2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new _Cords2D.default;if(0===t)return e;else{let r=_lodash.default.cloneDeep(e);return r.entities2d=_Entities2D2._Entities2D.getRotated({entities:e.entities2d,rotationAngle:t,rotationCords:n}),r}}),_defineProperty(DimLinear2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:new _Cords2D.default;if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_DimLinear2DM.getRotated(e,t,n))),r}}),_defineProperty(DimLinear2DM,"getDxf",e=>{let t=_id.ID.getDimBlockId();return _Drawing.default.BlockRecords.push({name:t}),{dxf:_DimLinear2DM.getEntityBlockDxf(e,t),block_dxf:_DimLinear2DM.getBlockDxf(e,t)}}),_defineProperty(DimLinear2DM,"getBlockDxf",(e,t)=>"0"+_DimLinear2DM.newLine+"BLOCK"+_DimLinear2DM.newLine+"5"+_DimLinear2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimLinear2DM.newLine+"AcDbEntity"+_DimLinear2DM.newLine+"100"+_DimLinear2DM.newLine+"AcDbBlockBegin"+_DimLinear2DM.newLine+"2"+_DimLinear2DM.newLine+t+"70"+_DimLinear2DM.newLine+"1"+_DimLinear2DM.newLine+"10"+_DimLinear2DM.newLine+e.entities2d.lineArr[0].startCords.x+_DimLinear2DM.newLine+"20"+_DimLinear2DM.newLine+e.entities2d.lineArr[0].startCords.y+_DimLinear2DM.newLine+"30"+_DimLinear2DM.newLine+e.entities2d.lineArr[0].startCords.z+_DimLinear2DM.newLine+"3"+_DimLinear2DM.newLine+t+"1"+_DimLinear2DM.newLine+_DimLinear2DM.newLine+_Line2DM.default.getDxf(e.entities2d.lineArr[0])+_Line2DM.default.getDxf(e.entities2d.lineArr[1])+_Line2DM.default.getDxf(e.entities2d.lineArr[2])+_MText2DM.default.getDxf(e.entities2d.mTextArr[0])+_Solid2DM.default.getDxf(e.entities2d.solidArr[0])+_Solid2DM.default.getDxf(e.entities2d.solidArr[1])+_Point2DM.default.getDxf(e.entities2d.pointArr[0])+_Point2DM.default.getDxf(e.entities2d.pointArr[1])+"0"+_DimLinear2DM.newLine+"ENDBLK"+_DimLinear2DM.newLine+"5"+_DimLinear2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimLinear2DM.newLine+"AcDbEntity"+_DimLinear2DM.newLine+"8"+_DimLinear2DM.newLine+e.layer+_DimLinear2DM.newLine+"100"+_DimLinear2DM.newLine+"AcDbBlockEnd"+_DimLinear2DM.newLine),_defineProperty(DimLinear2DM,"getEntityBlockDxf",(e,t)=>{let n="DLI"===e.dimType?"32":"33",r="0"+_DimLinear2DM.newLine+"DIMENSION"+_DimLinear2DM.newLine+"5"+_DimLinear2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimLinear2DM.newLine+"AcDbEntity"+_DimLinear2DM.newLine+"8"+_DimLinear2DM.newLine+e.layer+_DimLinear2DM.newLine+"6"+_DimLinear2DM.newLine+e.lineType+_DimLinear2DM.newLine+"100"+_DimLinear2DM.newLine+"AcDbDimension"+_DimLinear2DM.newLine+"2"+_DimLinear2DM.newLine+t+"10"+_DimLinear2DM.newLine+e.entities2d.solidArr[0].firstCords.x+_DimLinear2DM.newLine+"20"+_DimLinear2DM.newLine+e.entities2d.solidArr[0].firstCords.y+_DimLinear2DM.newLine+"30"+_DimLinear2DM.newLine+e.entities2d.solidArr[0].firstCords.z+_DimLinear2DM.newLine+"11"+_DimLinear2DM.newLine+e.entities2d.mTextArr[0].cords.x+_DimLinear2DM.newLine+"21"+_DimLinear2DM.newLine+e.entities2d.mTextArr[0].cords.y+_DimLinear2DM.newLine+"31"+_DimLinear2DM.newLine+e.entities2d.mTextArr[0].cords.z+_DimLinear2DM.newLine+"70"+_DimLinear2DM.newLine+n+_DimLinear2DM.newLine+"71"+_DimLinear2DM.newLine+"5"+_DimLinear2DM.newLine+"1"+_DimLinear2DM.newLine+e.entities2d.mTextArr[0].text+_DimLinear2DM.newLine+"3"+_DimLinear2DM.newLine+e.dimStyle.name+_DimLinear2DM.newLine+"100"+_DimLinear2DM.newLine+"AcDbAlignedDimension"+_DimLinear2DM.newLine+"13"+_DimLinear2DM.newLine+e.entities2d.lineArr[0].startCords.x+_DimLinear2DM.newLine+"23"+_DimLinear2DM.newLine+e.entities2d.lineArr[0].startCords.y+_DimLinear2DM.newLine+"33"+_DimLinear2DM.newLine+e.entities2d.lineArr[0].startCords.z+_DimLinear2DM.newLine+"14"+_DimLinear2DM.newLine+e.entities2d.lineArr[1].startCords.x+_DimLinear2DM.newLine+"24"+_DimLinear2DM.newLine+e.entities2d.lineArr[1].startCords.y+_DimLinear2DM.newLine+"34"+_DimLinear2DM.newLine+e.entities2d.lineArr[1].startCords.z+_DimLinear2DM.newLine;return"DAL"!==e.dimType&&(r+="100"+_DimLinear2DM.newLine+"AcDbRotatedDimension"+_DimLinear2DM.newLine),r}),_defineProperty(DimLinear2DM,"getDxfArray",e=>{let t="",n="";return e.forEach(e=>{let r=_DimLinear2DM.getDxf(e);t+=r.dxf,n+=r.block_dxf}),{dxf:t,block_dxf:n}}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _DimStyle2DM,_ACColors=require("./ACColors"),_Drawing=_interopRequireDefault(require("./Drawing"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class DimStyle2DM{constructor(e){let{name:t="",scale:n="1.0",textHeight:r="2.0",gapExtExo:i="1.0",arrowSize:d="2.0",lineColor:o=_ACColors.ACColors[8],lineColorIndex:l="8",textColor:a=_ACColors.ACColors[3],textColorIndex:s="3",measurementScale:g="1.0",unit:u="2",noDecPos:c="0",distanceFromBase:f=5,lineType:y="CONTINUOUS",layer:L="Dimensions"}=e;this.name=t,this.scale=n,this.textHeight=r,this.gapExtExo=i,this.arrowSize=d,this.textColor=a,this.textColorIndex=s,this.lineColor=o,this.lineColorIndex=l,this.lineType=y,this.layer=L,this.unit=u,this.noDecPos=c,this.measurementScale=g,this.distanceFromBase=f}static getDimStyles(e){let t=_getStartDimStyleTableDxf._.call(DimStyle2DM,e[0]);for(let n=0;n<_Drawing.default.DimStyles.length;n++)t+=_getStartDimStyleDxf._.call(DimStyle2DM,e[n+1]),t+=_getDimStyleDXF._.call(DimStyle2DM,_Drawing.default.DimStyles[n]);return t+="0"+this.newLine+"ENDTAB"+this.newLine,t}static getDimStyles1(e){let t="*********"+e[0]+"*********"+e[1]+"*********"+e[2]+"*********"+e[3];return t}}exports.default=DimStyle2DM,_DimStyle2DM=DimStyle2DM,_defineProperty(DimStyle2DM,"newLine","\r\n");var _getStartDimStyleTableDxf={_:e=>"0"+_DimStyle2DM.newLine+"TABLE"+_DimStyle2DM.newLine+"2"+_DimStyle2DM.newLine+"DIMSTYLE"+_DimStyle2DM.newLine+"5"+_DimStyle2DM.newLine+e+"100"+_DimStyle2DM.newLine+"AcDbSymbolTable"+_DimStyle2DM.newLine+"70"+_DimStyle2DM.newLine+"3"+_DimStyle2DM.newLine+"100"+_DimStyle2DM.newLine+"AcDbDimStyleTable"+_DimStyle2DM.newLine+"71"+_DimStyle2DM.newLine+"3"+_DimStyle2DM.newLine},_getStartDimStyleDxf={_:e=>"0"+_DimStyle2DM.newLine+"DIMSTYLE"+_DimStyle2DM.newLine+"105"+_DimStyle2DM.newLine+e+"100"+_DimStyle2DM.newLine+"AcDbSymbolTableRecord"+_DimStyle2DM.newLine+"100"+_DimStyle2DM.newLine+"AcDbDimStyleTableRecord"+_DimStyle2DM.newLine},_getDimStyleDXF={_:e=>{let t="2"+_DimStyle2DM.newLine+e.name+_DimStyle2DM.newLine+"70"+_DimStyle2DM.newLine+"0"+_DimStyle2DM.newLine;return"Standard"!==e.name&&(t+="40"+_DimStyle2DM.newLine+e.scale+_DimStyle2DM.newLine+"41"+_DimStyle2DM.newLine+e.arrowSize+_DimStyle2DM.newLine+"42"+_DimStyle2DM.newLine+e.gapExtExo+_DimStyle2DM.newLine+"43"+_DimStyle2DM.newLine+"0.0"+_DimStyle2DM.newLine+"44"+_DimStyle2DM.newLine+e.gapExtExo+_DimStyle2DM.newLine+"73"+_DimStyle2DM.newLine+"0"+_DimStyle2DM.newLine+"77"+_DimStyle2DM.newLine+"1"+_DimStyle2DM.newLine+"140"+_DimStyle2DM.newLine+e.textHeight+_DimStyle2DM.newLine+"144"+_DimStyle2DM.newLine+e.measurementScale+_DimStyle2DM.newLine+"147"+_DimStyle2DM.newLine+e.gapExtExo+_DimStyle2DM.newLine+"176"+_DimStyle2DM.newLine+e.lineColorIndex+_DimStyle2DM.newLine+"177"+_DimStyle2DM.newLine+e.lineColorIndex+_DimStyle2DM.newLine+"178"+_DimStyle2DM.newLine+e.textColorIndex+_DimStyle2DM.newLine+"271"+_DimStyle2DM.newLine+e.noDecPos+_DimStyle2DM.newLine+"272"+_DimStyle2DM.newLine+"0"+_DimStyle2DM.newLine+"277"+_DimStyle2DM.newLine+e.unit+_DimStyle2DM.newLine+"290"+_DimStyle2DM.newLine+"0"+_DimStyle2DM.newLine+"371"+_DimStyle2DM.newLine+"0"+_DimStyle2DM.newLine+"372"+_DimStyle2DM.newLine+"0"+_DimStyle2DM.newLine),t}};"use strict",require("core-js/modules/es.symbol.description.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.regexp.to-string.js");var _DimV2DM,_id=require("./id"),_Cords2D=_interopRequireDefault(require("./Cords2D")),_Point2DM=_interopRequireDefault(require("./Point2DM")),_Line2DM=_interopRequireDefault(require("./Line2DM")),_lodash=_interopRequireDefault(require("lodash")),_Math2D=_interopRequireDefault(require("./Math2D")),_MText2DM=_interopRequireDefault(require("./MText2DM")),_Solid2DM=_interopRequireDefault(require("./Solid2DM")),_Entities2D2=require("./_Entities2D"),_BlockEntities2D2=require("./_BlockEntities2D"),_Drawing=_interopRequireDefault(require("./Drawing")),_UtilDXF=require("./UtilDXF");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}function _assertClassBrand(r,e,t){if("function"==typeof r?r===e:r.has(e))return 3>arguments.length?e:t;throw new TypeError("Private element is not present on this object")}class DimV2DM{constructor(e){let{id:t=_id.ID.getId(),bottomCords:n=null,topCords:r=null,distanceFromBase:i=5,dimPos:d="c",isDimLeft:o=!0,dimStyle:l=null,dimType:a="DLI",rotationAngleInRadians:s=0,rot_match_point:g="lb",text:u=""}=e;this.id=t,this.dimType=a,this.bottomCords=n,this.topCords=r,this.distanceFromBase=i,this.dimPos=d,this.rot_match_point=g,this.rotationAngleInRadians=s,this.isDimLeft=o,this.dimStyle=l,this.text=u}static get_vertical_dimension(e){let t,n,r=e.id,i=e.dimStyle,d=parseFloat(i.scale),o=e.text.toString(),l=1.4*o.length*d,a=i.lineType,s=i.layer,g=i.textColor,u=i.textColorIndex,c=i.lineColor,f=i.lineColorIndex,y=parseFloat(i.textHeight)*d,L=e.dimPos,D=parseFloat(i.gapExtExo)*d,w=e.bottomCords,p=e.topCords,m=e.isDimLeft,A=e.distanceFromBase*d;"2"===i.unit?(t=_assertClassBrand(DimV2DM,this,_SOLID_LENGTH_MM)._*d,n=_assertClassBrand(DimV2DM,this,_SOLID_HALF_HEIGHT_MM)._*d):(t=_assertClassBrand(DimV2DM,this,_SOLID_LENGTH_IN)._*d,n=_assertClassBrand(DimV2DM,this,_SOLID_HALF_HEIGHT_IN)._*d);let h,b,x,C=_Math2D.default.getDistance(w,p),_=A+D,E=_lodash.default.cloneDeep(w),T=_lodash.default.cloneDeep(p);m?(h=new _Cords2D.default(E.x-D,E.y),b=new _Cords2D.default(E.x-_,h.y),x=new _Cords2D.default(b.x+D,b.y)):(h=new _Cords2D.default(E.x+D,E.y),b=new _Cords2D.default(E.x+_,h.y),x=new _Cords2D.default(b.x-D,b.y));let v=new _Cords2D.default(h.x,h.y+C),M=new _Cords2D.default(b.x,b.y+C),S=new _Cords2D.default(x.x,x.y+C),F=x,P=new _Cords2D.default(x.x+n,x.y+t),B=new _Cords2D.default(x.x-n,x.y+t),j=S,R=new _Cords2D.default(S.x+n,S.y-t),I=new _Cords2D.default(S.x-n,S.y-t),k=new _Cords2D.default(x.x-(y/2+d),x.y+C/2);if("t"===L){let e=_lodash.default.cloneDeep(x),r=_lodash.default.cloneDeep(S);x.y=x.y-t+2*d,S.y+=l+t+2*d,k.y+=C/2+t+d+l/2,F=e,P=new _Cords2D.default(e.x-n,e.y-t),B=new _Cords2D.default(e.x+n,e.y-t),j=r,R=new _Cords2D.default(r.x-n,r.y+t),I=new _Cords2D.default(r.x+n,r.y+t)}else if("b"===L){let e=_lodash.default.cloneDeep(x),r=_lodash.default.cloneDeep(S);x.y=x.y-l+t+2*d,S.y+=t+2*d,k.y-=C/2+t+d+l/2,F=e,P=new _Cords2D.default(e.x-n,e.y-t),B=new _Cords2D.default(e.x+n,e.y-t),j=r,R=new _Cords2D.default(r.x-n,r.y+t),I=new _Cords2D.default(r.x+n,r.y+t)}let O=new _Point2DM.default({id:"DBP"+r,lineType:a,pointCords:E}),N=new _Point2DM.default({id:"DTP"+r,lineType:a,pointCords:T}),H=new _Point2DM.default({id:"DDP"+r,lineType:a,pointCords:x}),U=new _Line2DM.default({id:"DBL"+r,color:c,colorIndex:f,layer:s,lineType:a,startCords:h,endCords:b}),z=new _Line2DM.default({id:"DTL"+r,color:c,colorIndex:f,layer:s,lineType:a,startCords:v,endCords:M}),X=new _Line2DM.default({id:"DML"+r,color:c,colorIndex:f,layer:s,lineType:a,startCords:x,endCords:S}),V=new _MText2DM.default({cords:k,id:"DMT"+r,recWidth:3*d*o.length,height:y,text:o,color:g,colorIndex:u,rotationAngleRadians:_Math2D.default.radians.rad90}),W=new _Solid2DM.default({id:"DBS"+r,color:c,colorIndex:f,layer:s,lineType:a,firstCords:F,secondCords:P,thirdCords:B,fourthCords:B}),Y=new _Solid2DM.default({id:"DTS"+r,color:c,colorIndex:f,layer:s,lineType:a,firstCords:j,secondCords:R,thirdCords:I,fourthCords:I});return{lineArr:[U,z,X],solidArr:[W,Y],pointArr:[O,N,H],mTextArr:[V]}}static get_rotation_vertical_dimension(e){let t=this.get_vertical_dimension(e);const n=e.rotationAngleInRadians,r="lb"===e.rot_match_point?e.bottomCords:e.topCords;if(0===n)return _objectSpread({},t);else{let e=_Line2DM.default.getRotatedArray(t.lineArr,n,r),i=_Solid2DM.default.getRotatedArray(t.solidArr,n,r),d=_Point2DM.default.getRotatedArray(t.pointArr,n,r),o=_MText2DM.default.getRotatedArray(t.mTextArr,n,r);return{lineArr:e,solidArr:i,pointArr:d,mTextArr:o}}}static getMovedWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMoved(e,r,i)}static getMovedArrayWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMovedArray(e,r,i)}static getDxf_entities2d(e){let t=this.get_rotation_vertical_dimension(e),n=t.lineArr[0],r=t.lineArr[1],i=t.lineArr[2],d=t.solidArr[0],o=t.solidArr[1],l=t.pointArr[0],a=t.pointArr[1],s=t.mTextArr[0],g="";return g+=_Point2DM.default.getDxf(l),g+=_Point2DM.default.getDxf(a),g+=_Line2DM.default.getDxf(n),g+=_Line2DM.default.getDxf(r),g+=_Line2DM.default.getDxf(i),g+=_Solid2DM.default.getDxf(d),g+=_Solid2DM.default.getDxf(o),g+=_MText2DM.default.getDxf(s),g}static getDxf_block_entities2d(e){let t=new _Entities2D2._Entities2D(_objectSpread({},this.get_rotation_vertical_dimension(e))),n=new _BlockEntities2D2._BlockEntities2D({entities2d:t,blockName:"DimV"+_id.ID.getBlockId()});return _BlockEntities2D2._BlockEntities2D.getDxf(n)}}exports.default=DimV2DM,_DimV2DM=DimV2DM;var _SOLID_LENGTH_MM={_:2.5},_SOLID_HALF_HEIGHT_MM={_:.3333},_SOLID_LENGTH_IN={_:.625},_SOLID_HALF_HEIGHT_IN={_:.125};_defineProperty(DimV2DM,"getMoved",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=_lodash.default.cloneDeep(e);return r.bottomCords=_Cords2D.default.getMoved2D(e.bottomCords,t,n),r.topCords=_Cords2D.default.getMoved2D(e.topCords,t,n),r}),_defineProperty(DimV2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_DimV2DM.getMoved(e,t,n))),r}}),_defineProperty(DimV2DM,"getScaled",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.bottomCords=_Cords2D.default.getScaled2D(e.bottomCords,t,n),r.topCords=_Cords2D.default.getScaled2D(e.topCords,t,n),r.dimStyle.scale=t,r}),_defineProperty(DimV2DM,"getScaledArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_DimV2DM.getScaled(e,t,n))),r}}),_defineProperty(DimV2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=_lodash.default.cloneDeep(e);return r.bottomCords=_Cords2D.default.getRotated2D(e.bottomCords,t,n),r.topCords=_Cords2D.default.getScaled2D(e.topCords,t,n),r}}),_defineProperty(DimV2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_DimV2DM.getRotated(e,t,n))),r}}),_defineProperty(DimV2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.bottomCords=_Cords2D.default.getMirrored2D(e.bottomCords,t,n),r.topCords=_Cords2D.default.getMirrored2D(e.topCords,t,n),r}),_defineProperty(DimV2DM,"getMirroredArray",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=[];return e.forEach(e=>r.push(_DimV2DM.getMirrored(e,t,n))),r}),_defineProperty(DimV2DM,"getDimensionDxf",e=>{let t=_DimV2DM.get_rotation_vertical_dimension(e),n=_id.ID.getDimBlockId();return _Drawing.default.BlockRecords.push({name:n}),{dxf:_DimV2DM.getEntityBlockDxf(e,t,n),block_dxf:_DimV2DM.getBlockDxf(e,t,n)}}),_defineProperty(DimV2DM,"getDimensionDxfArray",e=>{let t="",n="";for(let r,d=0;d<e.length;d++)r=_DimV2DM.getDimensionDxf(e[d]),t+=r.dxf,n+=r.block_dxf;return{dxf:t,block_dxf:n}}),_defineProperty(DimV2DM,"newLine","\r\n"),_defineProperty(DimV2DM,"getBlockDxf",(e,t,n)=>{let r=e.dimStyle,i=r.layer;return"0"+_DimV2DM.newLine+"BLOCK"+_DimV2DM.newLine+"5"+_DimV2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimV2DM.newLine+"AcDbEntity"+_DimV2DM.newLine+"100"+_DimV2DM.newLine+"AcDbBlockBegin"+_DimV2DM.newLine+"2"+_DimV2DM.newLine+n+"70"+_DimV2DM.newLine+"1"+_DimV2DM.newLine+"10"+_DimV2DM.newLine+t.lineArr[0].startCords.x+_DimV2DM.newLine+"20"+_DimV2DM.newLine+t.lineArr[0].startCords.y+_DimV2DM.newLine+"30"+_DimV2DM.newLine+t.lineArr[0].startCords.z+_DimV2DM.newLine+"3"+_DimV2DM.newLine+n+"1"+_DimV2DM.newLine+_DimV2DM.newLine+_Line2DM.default.getDxf(t.lineArr[0])+_Line2DM.default.getDxf(t.lineArr[1])+_Line2DM.default.getDxf(t.lineArr[2])+_MText2DM.default.getDxf(t.mTextArr[0])+_Solid2DM.default.getDxf(t.solidArr[0])+_Solid2DM.default.getDxf(t.solidArr[1])+_Point2DM.default.getDxf(t.pointArr[0])+_Point2DM.default.getDxf(t.pointArr[1])+_Point2DM.default.getDxf(t.pointArr[2])+"0"+_DimV2DM.newLine+"ENDBLK"+_DimV2DM.newLine+"5"+_DimV2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimV2DM.newLine+"AcDbEntity"+_DimV2DM.newLine+"8"+_DimV2DM.newLine+i+_DimV2DM.newLine+"100"+_DimV2DM.newLine+"AcDbBlockEnd"+_DimV2DM.newLine}),_defineProperty(DimV2DM,"getEntityBlockDxf",(e,t,n)=>{let r=e.dimStyle,i=r.lineType,d=r.layer,o="DLI"===e.dimType?"32":"33",l="0"+_DimV2DM.newLine+"DIMENSION"+_DimV2DM.newLine+"5"+_DimV2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_DimV2DM.newLine+"AcDbEntity"+_DimV2DM.newLine+"8"+_DimV2DM.newLine+d+_DimV2DM.newLine+"6"+_DimV2DM.newLine+i+_DimV2DM.newLine+"100"+_DimV2DM.newLine+"AcDbDimension"+_DimV2DM.newLine+"2"+_DimV2DM.newLine+n+"10"+_DimV2DM.newLine+t.pointArr[2].pointCords.x+_DimV2DM.newLine+"20"+_DimV2DM.newLine+t.pointArr[2].pointCords.y+_DimV2DM.newLine+"30"+_DimV2DM.newLine+t.pointArr[2].pointCords.z+_DimV2DM.newLine+"11"+_DimV2DM.newLine+t.mTextArr[0].cords.x+_DimV2DM.newLine+"21"+_DimV2DM.newLine+t.mTextArr[0].cords.y+_DimV2DM.newLine+"31"+_DimV2DM.newLine+t.mTextArr[0].cords.z+_DimV2DM.newLine+"70"+_DimV2DM.newLine+o+_DimV2DM.newLine+"71"+_DimV2DM.newLine+"5"+_DimV2DM.newLine+"1"+_DimV2DM.newLine+t.mTextArr[0].text+_DimV2DM.newLine+"3"+_DimV2DM.newLine+r.name+_DimV2DM.newLine+"100"+_DimV2DM.newLine+"AcDbAlignedDimension"+_DimV2DM.newLine+"13"+_DimV2DM.newLine+t.pointArr[1].pointCords.x+_DimV2DM.newLine+"23"+_DimV2DM.newLine+t.pointArr[1].pointCords.y+_DimV2DM.newLine+"33"+_DimV2DM.newLine+t.pointArr[1].pointCords.z+_DimV2DM.newLine+"14"+_DimV2DM.newLine+t.pointArr[0].pointCords.x+_DimV2DM.newLine+"24"+_DimV2DM.newLine+t.pointArr[0].pointCords.y+_DimV2DM.newLine+"34"+_DimV2DM.newLine+t.pointArr[0].pointCords.z+_DimV2DM.newLine+"50"+_DimV2DM.newLine+"90.0"+_DimV2DM.newLine;return"DAL"!==e.dimType&&(l+="100"+_DimV2DM.newLine+"AcDbRotatedDimension"+_DimV2DM.newLine),l}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _LineType2DM=_interopRequireDefault(require("./LineType2DM")),_TextStyle2DM=_interopRequireDefault(require("./TextStyle2DM")),_Layer2DM=_interopRequireDefault(require("./Layer2DM")),_AppId2DM=_interopRequireDefault(require("./AppId2DM")),_VPort2DM=_interopRequireDefault(require("./VPort2DM")),_Views2DM=_interopRequireDefault(require("./Views2DM")),_Ucs2DM=_interopRequireDefault(require("./Ucs2DM")),_BlockRecords2DM=_interopRequireDefault(require("./BlockRecords2DM")),_DimStyle2DM=_interopRequireDefault(require("./DimStyle2DM")),_Headers2DM=_interopRequireDefault(require("./Headers2DM")),_Blocks2DM=_interopRequireDefault(require("./Blocks2DM")),_UtilDXF=require("./UtilDXF");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Drawing{constructor(){_defineProperty(this,"entitiesStringData",""),_defineProperty(this,"blocksStringData",""),_defineProperty(this,"handler",""),_defineProperty(this,"blockName","")}static addEntitiesStringToData(e){this.EntitiesStrData+=e}static addBlocksStringToData(e){this.BlocksStrData+=e}static resetDrawings(){this.EntitiesStrData="",this.BlocksStrData="",Drawing.BlockRecords=[{name:"*Model_Space"},{name:"*Paper_Space"}],_Headers2DM.default.Headers=[{name:"ACADVER",code:"1",value:"AC1021"},{name:"HANDSEED",code:"5",value:"4e20"},{name:"MEASUREMENT",code:"70",value:"1"},{name:"LUNITS",code:"70",value:"2"}],Drawing.DimStyles=[{name:"Standard"}]}static setUnits(e){this.Units=e}static setDimScale(e){this.DimScale=e}static setLTS(e){this.LTS=e}static setCurrentDimStyle(e){this.currentDimStyle=e}getHeaders(){return _Headers2DM.default.getHeaders(_UtilDXF.UtilDXF.getHandler(),Drawing.currentDimStyle)}getDxfLineTypeTable(){let e=[];for(let t=0;t<Drawing.LineTypes.length+1;t++)e.push(_UtilDXF.UtilDXF.getHandler());return _LineType2DM.default.getLineTypes(e)}getDxfTextStyleTable(){let e=[];for(let t=0;t<Drawing.TextStyles.length+1;t++)e.push(_UtilDXF.UtilDXF.getHandler());return _TextStyle2DM.default.getTextStyles(e)}getDxfLayersTable(){return _Layer2DM.default.getLayers()}getDxfAppidTable(){let e=[];for(let t=0;t<Drawing.APPiDs.length+1;t++)e.push(_UtilDXF.UtilDXF.getHandler());return _AppId2DM.default.getAppIDs(e)}getDxfVPortTable(){let e=[];for(let t=0;t<Drawing.VPorts.length+1;t++)e.push(_UtilDXF.UtilDXF.getHandler());return _VPort2DM.default.getVPorts(e)}getDxfViewsTable(){return _Views2DM.default.getViews(_UtilDXF.UtilDXF.getHandler())}getDxfUCSTable(){return _Ucs2DM.default.getUCS(_UtilDXF.UtilDXF.getHandler())}getDxfDimensionStyleTable(){let e=[];for(let t=0;t<Drawing.DimStyles.length+1;t++)e.push(_UtilDXF.UtilDXF.getHandler());return _DimStyle2DM.default.getDimStyles(e)}getDXFBlockRecordsTable(){return _BlockRecords2DM.default.getBlockRecords()}_getBlocks(){let e=[],t=2*Drawing.BlocksDefault.length;for(let n=0;n<t;n++)e.push(_UtilDXF.UtilDXF.getHandler());let n="0"+Drawing.newLine+"SECTION"+Drawing.newLine+"2"+Drawing.newLine+"BLOCKS"+Drawing.newLine;return n+=_Blocks2DM.default.getDefaultBlocks(e),n+=this.blocksStringData,n+=Drawing.BlocksStrData,n+="0"+Drawing.newLine+"ENDSEC"+Drawing.newLine,n}_getClasses(){let e="0"+Drawing.newLine+"SECTION"+Drawing.newLine+"2"+Drawing.newLine+"CLASSES"+Drawing.newLine;return e+="0"+Drawing.newLine+"ENDSEC"+Drawing.newLine,e}_getEntities(){let e="0"+Drawing.newLine+"SECTION"+Drawing.newLine+"2"+Drawing.newLine+"ENTITIES"+Drawing.newLine;return e+=this.entitiesStringData,e+=Drawing.EntitiesStrData,e+="0"+Drawing.newLine+"ENDSEC"+Drawing.newLine,e}_getObjects(){let e="0"+Drawing.newLine+"SECTION"+Drawing.newLine+"2"+Drawing.newLine+"OBJECTS"+Drawing.newLine;return e+="0"+Drawing.newLine+"DICTIONARY"+Drawing.newLine+"5"+Drawing.newLine+_UtilDXF.UtilDXF.getHandler()+"330"+Drawing.newLine+"0"+Drawing.newLine+"100"+Drawing.newLine+"AcDbDictionary"+Drawing.newLine+"281"+Drawing.newLine+"1"+Drawing.newLine+"3"+Drawing.newLine+"ACAD_GROUP"+Drawing.newLine+"350"+Drawing.newLine+"D"+Drawing.newLine+"0"+Drawing.newLine+"DICTIONARY"+Drawing.newLine+"5"+Drawing.newLine+"D"+Drawing.newLine+"330"+Drawing.newLine+"C"+Drawing.newLine+"100"+Drawing.newLine+"AcDbDictionary"+Drawing.newLine+"281"+Drawing.newLine+"1"+Drawing.newLine,e+="0"+Drawing.newLine+"ENDSEC"+Drawing.newLine,e}_getTables(){let e="0"+Drawing.newLine+"SECTION"+Drawing.newLine+"2"+Drawing.newLine+"TABLES"+Drawing.newLine;return e+=this.getDxfVPortTable(),e+=this.getDxfLineTypeTable(),e+=this.getDxfLayersTable(),e+=this.getDxfTextStyleTable(),e+=this.getDxfViewsTable(),e+=this.getDxfUCSTable(),e+=this.getDxfAppidTable(),e+=this.getDxfDimensionStyleTable(),e+=this.getDXFBlockRecordsTable(),e+="0"+Drawing.newLine+"ENDSEC"+Drawing.newLine,e}toDxfString(){let e=this._getClasses();e+=this._getTables(),e+=this._getBlocks(),e+=this._getEntities(),e+=this._getObjects(),e+="0\nEOF\n";let t=this.getHeaders();return t+e}}exports.default=Drawing,_defineProperty(Drawing,"newLine","\r\n"),_defineProperty(Drawing,"EntitiesStrData",""),_defineProperty(Drawing,"BlocksStrData",""),_defineProperty(Drawing,"Units","2"),_defineProperty(Drawing,"DimScale",1),_defineProperty(Drawing,"LTS",1),_defineProperty(Drawing,"currentDimStyle",new _DimStyle2DM.default({})),Drawing.BlockRecords=[{name:"*Model_Space"},{name:"*Paper_Space"}],Drawing.APPiDs=[{name:"ACAD"}],Drawing.LineTypes=[{name:"ByBlock",description:" ",elements:[]},{name:"ByLayer",description:" ",elements:[]},{name:"CONTINUOUS",description:"______",elements:[]},{name:"CENTER",description:"____ _ ____ _ ____",elements:[1.25,-.25,.25,-.25]},{name:"HIDDEN",description:"__ __ __ __ __ __ __ __ __ __ __ __ __ _",elements:[1,-.25]},{name:"DASHED",description:"_ _ _ ",elements:[5,-5]},{name:"PHANTOM",description:"______  __  __  ______  __ ",elements:[5,-1,1,-1,1,-1]},{name:"DOTTED",description:". . . ",elements:[0,-5]}],Drawing.TextStyles=[{name:"Standard",description:"ROMANC.shx",height:2.5,scale:1},{name:"ROMANS",description:"ROMANS.shx",height:2.5,scale:1},{name:"ROMAND",description:"ROMAND.shx",height:2.5,scale:1},{name:"ROMANC",description:"ROMANC.shx",height:2.5,scale:1}],Drawing.BlocksDefault=[{name:"*Paper_Space",baseCords:{x:0,y:0,z:0},blockType:"0",layer:"0"},{name:"*Model_Space",baseCords:{x:0,y:0,z:0},blockType:"0",layer:"0"}],Drawing.DimStyles=[{name:"Standard"}],Drawing.VPorts=[{name:"*ACTIVE"}],Drawing.UCS=[],Drawing.Views=[],"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js");var _Ellipse2DM,_Math2D=_interopRequireDefault(require("./Math2D")),_LineType2DM=_interopRequireDefault(require("./LineType2DM")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_lodash=_interopRequireDefault(require("lodash")),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Ellipse2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",axisRatio:r=0,color:i="#ffffff",colorIndex:d="7",startAngle:o=0,endAngle:l=6.283,lineType:a="ByLayer",layer:s="0",centerCords:g=null,majorAxisEndPoint:u=null,xRadius:c=null,yRadius:f=null,rotation:y=0,underGroup:L="canvas"}=e;this.id=t,this.handler=n,this.color=i,this.colorIndex=d,this.layer=s,this.lineType=a,this.rotation=y,this.centerCords=g,this.xRadius=c,this.yRadius=f}}exports.default=Ellipse2DM,_Ellipse2DM=Ellipse2DM,_defineProperty(Ellipse2DM,"newLine","\r\n"),_defineProperty(Ellipse2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.centerCords.x=parseFloat(e.centerCords.x)+t,r.centerCords.y=parseFloat(e.centerCords.y)+n,r}}),_defineProperty(Ellipse2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Ellipse2DM.getMoved(e,t,n))),r}}),_defineProperty(Ellipse2DM,"getScaled",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1!==t){let r=n.x-(n.x-parseFloat(e.centerCords.x))*t,i=n.y-(n.y-parseFloat(e.centerCords.y))*t;e.centerCords.x=r,e.centerCords.y=i;let d=parseFloat(e.xRadius)*t,o=parseFloat(e.yRadius)*t;e.xRradius=d,e.yRradius=o}return e}),_defineProperty(Ellipse2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Ellipse2DM.getScaled(e,t,n))),r}}),_defineProperty(Ellipse2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=parseFloat(e.centerCords.x),i=parseFloat(e.centerCords.y),d=_Math2D.default.getAngle_num(n.x,n.y,r,i),o=d+t;if(_Math2D.default.radians.rad360<o){let e=o/_Math2D.default.radians.rad360;o-=parseInt(e)*_Math2D.default.radians.rad360}let l=_Math2D.default.getDistance_num(n.x,n.y,r,i),a=_Math2D.default.getCordsWithLengthAndAngle(n,l,o);return e.centerCords.x=a.x,e.centerCords.y=a.y,e.rotation=parseFloat(e.rotation)+t,e}}),_defineProperty(Ellipse2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Ellipse2DM.getRotated(e,t,n))),r}}),_defineProperty(Ellipse2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getMirrored2D(e.centerCords,t,n),r}),_defineProperty(Ellipse2DM,"getDxf",e=>{var t=Math.abs;let n=0,r="0.0",i=parseFloat(e.xRadius),d=parseFloat(e.yRadius),o=e.rotation===_Math2D.default.toRadians(0),l=e.rotation===_Math2D.default.toRadians(90),a=e.rotation===_Math2D.default.toRadians(180),s=e.rotation===_Math2D.default.toRadians(270),g=e.rotation===_Math2D.default.toRadians(360),u=_Math2D.default.toRadians(0)<e.rotation&&e.rotation<_Math2D.default.toRadians(90),c=_Math2D.default.toRadians(90)<e.rotation&&e.rotation<_Math2D.default.toRadians(180),f=_Math2D.default.toRadians(180)<e.rotation&&e.rotation<_Math2D.default.toRadians(270),y=_Math2D.default.toRadians(270)<e.rotation&&e.rotation<_Math2D.default.toRadians(360);if(i<d){if(o||a||g)r="11\r\n0.0\r\n21\r\n"+d+"\r\n",n=i/d;else if(l||s)r="11\r\n"+d+"\r\n21\r\n0.0\r\n",n=i/d;else if(u||y){let o=t(_Math2D.default.getAdjacentWithHypotenuseAndThetaAngle(d,e.rotation)),l=t(_Math2D.default.getOppositeWithHypotenuseAndThetaAngle(d,e.rotation));r=u?"11\r\n"+-l+"\r\n21\r\n"+o+"\r\n":"11\r\n"+-l+"\r\n21\r\n"+-o+"\r\n",n=i/d}else if(c||f){let o=t(_Math2D.default.getAdjacentWithHypotenuseAndThetaAngle(d,e.rotation)),l=t(_Math2D.default.getOppositeWithHypotenuseAndThetaAngle(d,e.rotation));r=c?"11\r\n"+-l+"\r\n21\r\n"+-o+"\r\n":"11\r\n"+l+"\r\n21\r\n"+-o+"\r\n",n=i/d}}else if(o||a||g)r="11\r\n"+i+"\r\n21\r\n0.0\r\n",n=d/i;else if(l||s)r="11\r\n0.0\r\n21\r\n"+i+"\r\n",n=d/i;else if(u||y){let o=t(_Math2D.default.getAdjacentWithHypotenuseAndThetaAngle(i,e.rotation)),l=t(_Math2D.default.getOppositeWithHypotenuseAndThetaAngle(i,e.rotation));r=u?"11\r\n"+o+"\r\n21\r\n"+l+"\r\n":"11\r\n"+-o+"\r\n21\r\n"+l+"\r\n",n=d/i}else if(c||f){let o=t(_Math2D.default.getAdjacentWithHypotenuseAndThetaAngle(i,e.rotation)),l=t(_Math2D.default.getOppositeWithHypotenuseAndThetaAngle(i,e.rotation));r=c?"11\r\n"+o+"\r\n21\r\n"+-l+"\r\n":"11\r\n"+-o+"\r\n21\r\n"+-l+"\r\n",n=d/i}let L="0"+_Ellipse2DM.newLine+"ELLIPSE"+_Ellipse2DM.newLine+"5"+_Ellipse2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Ellipse2DM.newLine+"AcDbEntity"+_Ellipse2DM.newLine+"8\r\n"+e.layer+_Ellipse2DM.newLine+"6\r\n"+e.lineType+_Ellipse2DM.newLine+"100"+_Ellipse2DM.newLine+"AcDbEllipse"+_Ellipse2DM.newLine;return L+="10\r\n"+e.centerCords.x+"\r\n20\r\n"+e.centerCords.y+"\r\n30\r\n"+e.centerCords.z+"\r\n"+r+"31\r\n"+e.centerCords.z+"\r\n40\r\n"+n+_Ellipse2DM.newLine+"41\r\n0.0"+_Ellipse2DM.newLine+"62\r\n"+e.colorIndex+"\r\n",L}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.string.replace.js"),require("core-js/modules/esnext.string.replace-all.js"),require("core-js/modules/web.dom-collections.iterator.js");var _Headers2DM;function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Headers2DM{}exports.default=Headers2DM,_Headers2DM=Headers2DM,_defineProperty(Headers2DM,"newLine","\r\n"),_defineProperty(Headers2DM,"Headers",[{name:"ACADVER",code:"1",value:"AC1021"},{name:"HANDSEED",code:"5",value:"4e20"},{name:"MEASUREMENT",code:"70",value:"1"},{name:"LUNITS",code:"70",value:"2"}]),_defineProperty(Headers2DM,"getHeader",e=>"9"+_Headers2DM.newLine+"$"+e.name+_Headers2DM.newLine+e.code+_Headers2DM.newLine+e.value+_Headers2DM.newLine),_defineProperty(Headers2DM,"getHeaders",(e,t)=>{let n="0"+_Headers2DM.newLine+"SECTION"+_Headers2DM.newLine+"2"+_Headers2DM.newLine+"HEADER"+_Headers2DM.newLine;for(let r of _Headers2DM.Headers)"HANDSEED"===r.name?(r.value=e.replaceAll(_Headers2DM.newLine,""),n+=_Headers2DM.getHeader(r)):"LUNITS"===r.name?(r.value=t.unit,n+=_Headers2DM.getHeader(r)):n+=_Headers2DM.getHeader(r);let r=_Headers2DM.getDimHeaders(t);for(let i of r)n+=_Headers2DM.getHeader(i);return n+="0"+_Headers2DM.newLine+"ENDSEC"+_Headers2DM.newLine,n}),_defineProperty(Headers2DM,"getDimHeaders",e=>[{name:"DIMSTYLE",code:"2",value:e.name},{name:"DIMASZ",code:"40",value:e.arrowSize},{name:"DIMSCALE",code:"40",value:e.scale},{name:"DIMEXO",code:"40",value:e.gapExtExo},{name:"DIMDLI",code:"40",value:"0"},{name:"DIMEXE",code:"40",value:e.gapExtExo},{name:"DIMTXT",code:"40",value:e.textHeight},{name:"DIMGAP",code:"40",value:e.gapExtExo},{name:"DIMLFAC",code:"40",value:e.measurementScale},{name:"DIMLUNIT",code:"70",value:e.unit},{name:"DIMTIH",code:"70",value:"0"},{name:"DIMTAD",code:"70",value:"1"},{name:"DIMCLRD",code:"70",value:e.lineColorIndex},{name:"DIMCLRE",code:"70",value:e.lineColorIndex},{name:"DIMCLRT",code:"70",value:e.textColorIndex},{name:"DIMDEC",code:"70",value:e.noDecPos},{name:"DIMTDEC",code:"70",value:"0"},{name:"DIMLWD",code:"70",value:"0"},{name:"DIMLWE",code:"70",value:"0"}]),"use strict",require("core-js/modules/es.symbol.description.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.ID=void 0,require("core-js/modules/es.regexp.to-string.js");var _ID,_UtilDXF=require("./UtilDXF");function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}function _assertClassBrand(r,e,t){if("function"==typeof r?r===e:r.has(e))return 3>arguments.length?e:t;throw new TypeError("Private element is not present on this object")}class ID{}exports.ID=ID,_ID=ID;var _intId={_:0},_tempIntId={_:0},_intBlockId={_:0},_intDimBlockId={_:0},_intTextBlockId={_:0},_intHandler={_:0};_defineProperty(ID,"getId",()=>(_intId._=_assertClassBrand(_ID,_ID,_assertClassBrand(_ID,_ID,_intId)._+1),_assertClassBrand(_ID,_ID,_intId)._)),_defineProperty(ID,"getTempId",()=>(_tempIntId._=_assertClassBrand(_ID,_ID,_assertClassBrand(_ID,_ID,_tempIntId)._+1),_assertClassBrand(_ID,_ID,_tempIntId)._)),_defineProperty(ID,"getDimBlockId",()=>"*D"+_UtilDXF.UtilDXF.getHandler()),_defineProperty(ID,"getDimTextBlockId",()=>(_intTextBlockId._=_assertClassBrand(_ID,_ID,_assertClassBrand(_ID,_ID,_intTextBlockId)._+1),"*U"+_assertClassBrand(_ID,_ID,_intTextBlockId)._)),_defineProperty(ID,"getBlockId",()=>(_intBlockId._=_assertClassBrand(_ID,_ID,_assertClassBrand(_ID,_ID,_intBlockId)._+1),_assertClassBrand(_ID,_ID,_intBlockId)._)),_defineProperty(ID,"setBlockId",()=>{_intBlockId._=_assertClassBrand(_ID,_ID,1)}),_defineProperty(ID,"getHandler",()=>(_intHandler._=_assertClassBrand(_ID,_ID,_assertClassBrand(_ID,_ID,_intHandler)._+1),_assertClassBrand(_ID,_ID,_intHandler)._.toString(16).toUpperCase()+"\r\n")),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _Layer2DM,_UtilDXF=require("./UtilDXF");function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Layer2DM{constructor(e){let{name:t="",lineTypeName:n="",color:r="",colorIndex:i="7"}=e;this.name=t,this.lineTypeName=n,this.colorIndex=i,this.color=r}static getLayers(){let e=_getStartLayerTableDxf._.call(Layer2DM);for(let t=0;t<this.Layers.length;t++)e+=_getStartLayerDxf._.call(Layer2DM),e+=_getLayerDXF._.call(Layer2DM,this.Layers[t]);return e+="0"+this.newLine+"ENDTAB"+this.newLine,e}}exports.default=Layer2DM,_Layer2DM=Layer2DM,_defineProperty(Layer2DM,"newLine","\r\n"),_defineProperty(Layer2DM,"LayerNames",{byLayer:"ByLayer",byBlock:"ByBlock",zero:"0",defpoints:"defpoints",dimensions:"Dimensions",template:"Template",annotations:"Annotations"});var _getStartLayerTableDxf={_:()=>"0"+_Layer2DM.newLine+"TABLE"+_Layer2DM.newLine+"2"+_Layer2DM.newLine+"LAYER"+_Layer2DM.newLine+"5"+_Layer2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Layer2DM.newLine+"AcDbSymbolTable"+_Layer2DM.newLine+"70"+_Layer2DM.newLine+_Layer2DM.Layers.length+_Layer2DM.newLine},_getStartLayerDxf={_:()=>"0"+_Layer2DM.newLine+"LAYER"+_Layer2DM.newLine+"5"+_Layer2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Layer2DM.newLine+"AcDbSymbolTableRecord"+_Layer2DM.newLine+"100"+_Layer2DM.newLine+"AcDbLayerTableRecord"+_Layer2DM.newLine},_getLayerDXF={_:e=>{let t="2"+_Layer2DM.newLine+e.name+_Layer2DM.newLine+"62"+_Layer2DM.newLine+e.colorIndex+_Layer2DM.newLine+"70"+_Layer2DM.newLine+"0"+_Layer2DM.newLine+"6"+_Layer2DM.newLine+e.lineTypeName+_Layer2DM.newLine;return"Defpoints"===e.name&&(t+="290"+_Layer2DM.newLine+"0"+_Layer2DM.newLine),t+="370"+_Layer2DM.newLine+"0.0"+_Layer2DM.newLine+"390"+_Layer2DM.newLine+"0"+_Layer2DM.newLine+"347"+_Layer2DM.newLine+"98"+_Layer2DM.newLine,t}};_defineProperty(Layer2DM,"Layers",[{name:"0",colorIndex:"7",lineTypeName:"CONTINUOUS"},{name:"Defpoints",colorIndex:"7",lineTypeName:"CONTINUOUS"},{name:"Dimensions",colorIndex:"7",lineTypeName:"CONTINUOUS"},{name:"Template",colorIndex:"7",lineTypeName:"CONTINUOUS"},{name:"Annotations",colorIndex:"7",lineTypeName:"CONTINUOUS"}]),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _lodash=_interopRequireDefault(require("lodash")),_ACColors=require("./ACColors"),_id=require("./id"),_Polyline2DM=_interopRequireDefault(require("./Polyline2DM")),_Solid2DM=_interopRequireDefault(require("./Solid2DM")),_Cords2D=_interopRequireDefault(require("./Cords2D")),_Math2D=_interopRequireDefault(require("./Math2D")),_Entities2D2=require("./_Entities2D"),_Text2DM=_interopRequireDefault(require("./Text2DM"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class LeaderArrow2DM{constructor(e){let{id:t=_id.ID.getId(),arrowCords:n=null,arrowSize:r=2,scale:i=1,firstCords:d=null,secondCords:o=null,color:l=_ACColors.ACColors[2],colorIndex:a="2",lineType:s="ByLayer",layer:g="0"}=e;this.id=t,this.color=l,this.colorIndex=a,this.layer=g,this.lineType=s,this.arrowCords=n,this.arrowSize=r,this.scale=i,this.firstCords=d,this.secondCords=o}static getLeaderArrow2D(e){let{leader_arrow:t}=e,n=[t.arrowCords,t.firstCords];null!==t.secondCords&&n.push(t.secondCords);let r=new _Polyline2DM.default({polyCords:n,width:0,closed:!1,color:t.color,colorIndex:t.colorIndex,lineType:t.lineType,layer:t.layer}),i=new _Solid2DM.default({firstCords:new _Cords2D.default(0,0),secondCords:new _Cords2D.default(t.arrowSize,-.3333),thirdCords:new _Cords2D.default(t.arrowSize,.3333),fourthCords:new _Cords2D.default(0,0),color:t.color,lineType:t.lineType,layer:t.layer}),d=_Solid2DM.default.getMovedWithCords(i,new _Cords2D.default(0,0),t.arrowCords),o=_Math2D.default.getAngle(t.arrowCords,t.firstCords),l=_Solid2DM.default.getRotated(d,o,d.firstCords),a=_Solid2DM.default.getScaled(l,t.scale,t.arrowCords);return new _Entities2D2._Entities2D({pLineArr:[r],solidArr:[a]})}static get_h_leader_arrow(e){let{leader_arrow:t,angle_deg:n=115,text:r="",l_or_r:i="l",v_ang_length:d=4}=e,o=r.length+1,l=t.scale,a=_Math2D.default.getCordsWithLengthAndAngle(new _Cords2D.default(t.arrowCords.x,t.arrowCords.y),d*l,_Math2D.default.toRadians(n));t.firstCords=a;let s,g;if(0!==r.length){let e;return"l"===i?(e=new _Cords2D.default(a.x-1.5*o*l,a.y),g=new _Cords2D.default(e.x,e.y+l)):(e=new _Cords2D.default(a.x+1.5*o*l,a.y),g=new _Cords2D.default(a.x,a.y+l)),t.secondCords=e,s=new _Text2DM.default({text:r,startCords:g,endCords:g,height:2*l,style:_Text2DM.default.STYLE.romanS,vJustify:0,hJustify:0}),{leader_arrow:this.getLeaderArrow2D({leader_arrow:t}),text:s,first_cords:a,second_cords:e}}return{leader_arrow:this.getLeaderArrow2D({leader_arrow:t}),first_cords:a}}static getMoved(e){let{leader_arrow:t,moveX:n,moveY:r}=e;if(0===n&&0===r)return t;else{let e=_lodash.default.cloneDeep(t);return e.arrowCords=_Cords2D.default.getMoved2D(t.arrowCords,n,r),e.firstCords=_Cords2D.default.getMoved2D(t.firstCords,n,r),null!==t.secondCords&&(e.secondCords=_Cords2D.default.getMoved2D(t.secondCords,n,r)),new LeaderArrow2DM(_objectSpread({},e))}}static getMovedWithCords(e){let{leader_arrow:t,from:n,to:r}=e,i=r.x-n.x,d=r.y-n.y;return this.getMoved({leader_arrow:t,moveX:i,moveY:d})}static getScaled(e){let{leader_arrow:t,scale:n,scalePoint:r}=e,i=_lodash.default.cloneDeep(t);return 1!==n&&(i.arrowCords=_Cords2D.default.getScaled2D({cords:t.startCords,scale:n,scalePoint:r}),i.firstCords=_Cords2D.default.getScaled2D(t.endCords,n,r),null!==t.secondCords&&(i.secondCords=_Cords2D.default.getScaled2D(t.secondCords,n,r))),new LeaderArrow2DM(_objectSpread({},i))}static getRotated(e){let{leader_arrow:t,rotationAngle:n,rotationCords:r}=e;if(0===n)return t;else{let e=_lodash.default.cloneDeep(t);return e.arrowCords=_Cords2D.default.getRotated2D(t.arrowCords,n,r),e.firstCords=_Cords2D.default.getRotated2D(t.firstCords,n,r),null!==t.secondCords&&(e.secondCords=_Cords2D.default.getRotated2D(t.secondCords,n,r)),new LeaderArrow2DM(_objectSpread({},e))}}static getMirrored(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.arrowCords=_Cords2D.default.getMirrored2D(e.arrowCords,t,n),r.firstCords=_Cords2D.default.getMirrored2D(e.firstCords,t,n),null!==e.secondCords&&(r.secondCords=_Cords2D.default.getMirrored2D(e.secondCords,t,n)),new LeaderArrow2DM(_objectSpread({},r))}}exports.default=LeaderArrow2DM,"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.json.stringify.js");var _Line2DM,_react=_interopRequireDefault(require("react")),_Cords2D=_interopRequireDefault(require("./Cords2D")),_lodash=_interopRequireDefault(require("lodash")),_LineType2DM=_interopRequireDefault(require("./LineType2DM")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_drei=require("@react-three/drei");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Line2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r="#ffffff",colorIndex:i="7",lineType:d="ByLayer",layer:o="0",startCords:l=null,endCords:a=null}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.startCords=l,this.endCords=a}static getMovedWithCords(e,t,n){let r=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3],i=n.x-t.x,d=n.y-t.y;return this.getMoved(e,i,d,r)}static getMovedArrayWithCords(e,t,n){let r=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3],i=n.x-t.x,d=n.y-t.y;return this.getMovedArray(e,i,d,r)}}exports.default=Line2DM,_Line2DM=Line2DM,_defineProperty(Line2DM,"newLine","\r\n"),_defineProperty(Line2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,r=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3];if(0===t&&0===n)return e;else{let i=_lodash.default.cloneDeep(e);return i.startCords=_Cords2D.default.getMoved2D(e.startCords,t,n),i.endCords=_Cords2D.default.getMoved2D(e.endCords,t,n),r&&(i.id=_id.ID.getId()),i}}),_defineProperty(Line2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,r=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3];if(0===t&&0===n)return e;else{let i=[];return e.forEach(e=>i.push(_Line2DM.getMoved(e,t,n,r))),i}}),_defineProperty(Line2DM,"getScaled",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.startCords=_Cords2D.default.getScaled2D(e.startCords,t,n),r.endCords=_Cords2D.default.getScaled2D(e.endCords,t,n),r}),_defineProperty(Line2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Line2DM.getScaled(e,t,n))),r}}),_defineProperty(Line2DM,"getRotated",(e,t,n)=>{let r=_lodash.default.cloneDeep(e);return r.startCords=_Cords2D.default.getRotated2D(e.startCords,t,n),r.endCords=_Cords2D.default.getRotated2D(e.endCords,t,n),r}),_defineProperty(Line2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Line2DM.getRotated(e,t,n))),r}}),_defineProperty(Line2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.startCords=_Cords2D.default.getMirrored2D(e.startCords,t,n),r.endCords=_Cords2D.default.getMirrored2D(e.endCords,t,n),r}),_defineProperty(Line2DM,"getMirroredArray",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=[];return e.forEach(e=>r.push(_Line2DM.getMirrored(e,t,n))),r}),_defineProperty(Line2DM,"getUniqArray",e=>{const t=e.filter((t,n)=>{const r=JSON.stringify(t);return n===e.findIndex(e=>JSON.stringify(e)===r)});return t}),_defineProperty(Line2DM,"getFixedCords",e=>{let t=_Cords2D.default.getFixedDecimals(e.startCords),n=_Cords2D.default.getFixedDecimals(e.endCords);return{sc:t,ec:n}}),_defineProperty(Line2DM,"getDxf",e=>{let t=_Line2DM.getFixedCords(e);return"0"+_Line2DM.newLine+"LINE"+_Line2DM.newLine+"5"+_Line2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Line2DM.newLine+"AcDbEntity"+_Line2DM.newLine+"8"+_Line2DM.newLine+e.layer+_Line2DM.newLine+"6"+_Line2DM.newLine+e.lineType+_Line2DM.newLine+"100"+_Line2DM.newLine+"AcDbLine"+_Line2DM.newLine+"10"+_Line2DM.newLine+t.sc.x+_Line2DM.newLine+"20"+_Line2DM.newLine+t.sc.y+_Line2DM.newLine+"30"+_Line2DM.newLine+t.sc.z+_Line2DM.newLine+"11"+_Line2DM.newLine+t.ec.x+_Line2DM.newLine+"21"+_Line2DM.newLine+t.ec.y+_Line2DM.newLine+"31"+_Line2DM.newLine+t.ec.z+_Line2DM.newLine+"62"+_Line2DM.newLine+e.colorIndex+_Line2DM.newLine}),_defineProperty(Line2DM,"getDxfArray",e=>{let t="";for(let n=0;n<e.length;n++)t+=_Line2DM.getDxf(e[n]);return t});var _getIsDashed={_:e=>({center:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.CENTER.toLowerCase(),dashed:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DASHED.toLowerCase(),dotted:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DOTTED.toLowerCase(),phantom:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.PHANTOM.toLowerCase()})};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/web.dom-collections.iterator.js");var _LineType2DM,_Drawing=_interopRequireDefault(require("./Drawing")),_UtilDXF=require("./UtilDXF");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class LineType2DM{constructor(e){let{name:t="",description:n="",elements:r=[]}=e;this.name=t,this.description=n,this.elements=r}static getElementsSum(e){let t=0;for(let n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}static getLineTypes(e){let t=this.getStartLTypeTableDxf(e[0]);for(let n=0;n<_Drawing.default.LineTypes.length;n++)t+=this.getStartLTypeDxf(e[n+1]),t+=this.getLTypeDXF(_Drawing.default.LineTypes[n]);return t+="0"+_Drawing.default.newLine+"ENDTAB"+_Drawing.default.newLine,t}}exports.default=LineType2DM,_LineType2DM=LineType2DM,_defineProperty(LineType2DM,"LineTypeNames",{byLayer:"ByLayer",byBlock:"ByBlock",CONTINUOUS:"CONTINUOUS",CENTER:"CENTER",DASHED:"DASHED",PHANTOM:"PHANTOM",DOTTED:"DOTTED"}),_defineProperty(LineType2DM,"getStartLTypeTableDxf",()=>"0"+_Drawing.default.newLine+"TABLE"+_Drawing.default.newLine+"2"+_Drawing.default.newLine+"LTYPE"+_Drawing.default.newLine+"5"+_Drawing.default.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Drawing.default.newLine+"AcDbSymbolTable"+_Drawing.default.newLine+"70"+_Drawing.default.newLine+_Drawing.default.LineTypes.length+_Drawing.default.newLine),_defineProperty(LineType2DM,"getStartLTypeDxf",()=>"0"+_Drawing.default.newLine+"LTYPE"+_Drawing.default.newLine+"5"+_Drawing.default.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Drawing.default.newLine+"AcDbSymbolTableRecord"+_Drawing.default.newLine+"100"+_Drawing.default.newLine+"AcDbLinetypeTableRecord"+_Drawing.default.newLine),_defineProperty(LineType2DM,"getLTypeDXF",e=>{let t="2"+_Drawing.default.newLine+e.name+_Drawing.default.newLine+"3"+_Drawing.default.newLine+e.description+_Drawing.default.newLine+"70"+_Drawing.default.newLine+"0"+_Drawing.default.newLine+"72"+_Drawing.default.newLine+"65"+_Drawing.default.newLine+"73"+_Drawing.default.newLine+e.elements.length+_Drawing.default.newLine+"40"+_Drawing.default.newLine;if(t+=0===e.elements.length?"0":_LineType2DM.getElementsSum(e.elements),t+=_Drawing.default.newLine,0!==e.elements.length)for(const n of e.elements)t+="49"+_Drawing.default.newLine+n+_Drawing.default.newLine,t+="74"+_Drawing.default.newLine+"0"+_Drawing.default.newLine;return t}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.math.hypot.js");var _Math2D,_Cords2D=_interopRequireDefault(require("./Cords2D")),_lodash=_interopRequireDefault(require("lodash"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Math2D{static fixDecimalNumber(e){let{decimalNumber:t,noOfDecimals:n=4}=e;return _lodash.default.round(t,n)}static fixAngle(e){if(this.radians.rad360<e){let t=e/this.radians.rad360;return e-Math.floor(t)*this.radians.rad360}return e}static toRadians(e){return e*(Math.PI/180)}static toDegrees(e){return _lodash.default.round(e*(180/Math.PI),4)}static getDistance_num(e,t,n,r){return _lodash.default.round(Math.abs(Math.hypot(n-e,r-t)),4)}static getDistance(e,t){return _lodash.default.round(Math.abs(Math.hypot(t.x-e.x,t.y-e.y)),4)}static getAngle_num(e,t,n,r){var i=Math.acos,d=Math.floor,o=Math.abs;let l,a=this.radians.rad0,s=o(e-n),g=o(t-r),u=this.getDistance_num(e,t,n,r),c=i(s/u),f=i(g/u);if(e===n&&t===r?l=this.radians.rad0:e<n&&t===r?l=this.radians.rad0:e===n&&t<r?l=this.radians.rad90:n<e&&t===r?l=this.radians.rad180:n===e&&r<t?l=this.radians.rad270:e<n&&t<r?l=this.radians.rad0+c:n<e&&t<r?l=this.radians.rad90+f:n<e&&r<t?l=this.radians.rad180+c:e<n&&r<t?l=this.radians.rad270+f:(console.log("Unknown Error"),l=a),this.radians.rad360<l){let e=l/this.radians.rad360;l-=d(e)*this.radians.rad360}return l}static getAngle(e,t){return this.getAngle_num(e.x,e.y,t.x,t.y)}static get_midpoint_cords(e){let{cords1:t,cords2:n}=e,r=(t.x+n.x)/2,i=(t.y+n.y)/2;return new _Cords2D.default(r,i)}static get_midpoint(e){let{x1:t,y1:n,x2:r,y2:i}=e;return new _Cords2D.default((t+r)/2,(n+i)/2)}static getAdjacentWithHypotenuseAndThetaAngle(e,t){return _lodash.default.round(Math.abs(Math.cos(t)*e),4)}static getOppositeWithHypotenuseAndThetaAngle(e,t){return _lodash.default.round(Math.abs(Math.sin(t)*e),4)}static getHypotenuseWithOppositeAndThetaAngle(e,t){return _lodash.default.round(Math.abs(e/Math.sin(t)),4)}static getOppositeWithAdjacentAndThetaAngle(e,t){return _lodash.default.round(Math.abs(e*Math.tan(t)),4)}static getOppositeWithAdjacentAndHypotenuse(e,t){var n=Math.pow;return _lodash.default.round(Math.abs(Math.sqrt(n(t,2)-n(e,2))),4)}static getThetaAngleWithAdjacentAndHypotenuse(e,t){return _lodash.default.round(Math.acos(e/t),4)}static getThetaAngleWithOppositeAndHypotenuse(e,t){return _lodash.default.round(Math.asin(e/t),4)}static getThetaAngleWithAdjacentAndOpposite(e,t){return _lodash.default.round(Math.atan(t/e),4)}static getHypotenuseWithAdjacentAndThetaAngle(e,t){return _lodash.default.round(Math.abs(e/Math.cos(t)),4)}static getHypotenuseWithAdjacentAndOpposite(e,t){var n=Math.pow;return _lodash.default.round(Math.abs(Math.sqrt(n(e,2)+n(t,2))),4)}static getCordsWithLengthAndAngle(e,t,n){var r=Math.abs;let i=n;0>n&&(i=this.radians.rad360-r(n)),i=this.fixAngle(i);let d=r(this.getAdjacentWithHypotenuseAndThetaAngle(t,i)),o=r(this.getOppositeWithHypotenuseAndThetaAngle(t,i)),l=i===this.radians.rad0,a=i===this.radians.rad90,s=i===this.radians.rad180,g=i===this.radians.rad270,u=i===this.radians.rad360,c=i<this.radians.rad90&&this.radians.rad0<i,f=i<this.radians.rad180&&this.radians.rad90<i,y=i<this.radians.rad270&&this.radians.rad180<i,L=i<this.radians.rad360&&this.radians.rad270<i,D=e.x+d,w=e.x-d,p=e.y+o,m=e.y-o,A=e.x+t,h=e.x-t,b=e.y+t,x=e.y-t;if(l||u)return new _Cords2D.default(A,e.y);return a?new _Cords2D.default(e.x,b):s?new _Cords2D.default(h,e.y):g?new _Cords2D.default(e.x,x):c?new _Cords2D.default(D,p):f?new _Cords2D.default(w,p):y?new _Cords2D.default(w,m):L?new _Cords2D.default(D,m):void(console.log("error from math2d angle error"),console.log("cords",e),console.log("length",t),console.log("angleInRadians",n))}static ceilToNearest(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return Math.ceil(e/t)*t}static floorToNearest(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return Math.floor(e/t)*t}static roundToNearest(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return Math.round(e/t)*t}static get_num_with_percentage(e,t){return e/100*t}static isEven(e){return 0==e%2}static isOdd(e){return 1===Math.abs(e%2)}static polarToCartesian(e,t,n,r){let i=(r-90)*Math.PI/180;return{x:e+n*Math.cos(i),y:t+n*Math.sin(i)}}static get_svg_Arc_path_input(e,t,n,r){let i=e.x,d=e.y,o=this.polarToCartesian(i,d,t,r),l=this.polarToCartesian(i,d,t,n),a=180>=r-n?"0":"1";return{start_cords:o,end_cords:l,largeArcFlag:a}}static get_number_arr_by_divisions(e,t){var n=Math.floor;if(!(0>=e)){let r=n(e/t),i=_lodash.default.times(r,_lodash.default.constant(t));return i.push(e-r*t),i}return e}}_Math2D=Math2D,_defineProperty(Math2D,"FIXED_DECIMALS",4),_defineProperty(Math2D,"radians",{rad0:_Math2D.toRadians(0),rad45:_Math2D.toRadians(45),rad90:_Math2D.toRadians(90),rad135:_Math2D.toRadians(135),rad180:_Math2D.toRadians(180),rad225:_Math2D.toRadians(225),rad270:_Math2D.toRadians(270),rad315:_Math2D.toRadians(315),rad360:_Math2D.toRadians(360)}),_defineProperty(Math2D,"DEGREES",{deg0:0,deg45:45,deg90:90,deg135:135,deg180:180,deg225:225,deg270:270,deg315:315,deg360:360});var _default=exports.default=Math2D;"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.regexp.to-string.js");var _MText2DM,_Math2D=_interopRequireDefault(require("./Math2D")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_lodash=_interopRequireDefault(require("lodash")),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class MText2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r="green",colorIndex:i="3",lineType:d="ByLayer",layer:o="0",cords:l=null,recWidth:a=null,text:s="",height:g=2.5,widthFactor:u=.8,style:c="ROMANS",obliqueAngleRadians:f="0.0",rotationAngleRadians:y="0.0",justify:L=0,underGroup:D="canvas"}=e;s=s.toString();let w=3*s.length*(g/2.5);this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.style=c,this.cords=l,this.recWidth=a?a:w,this.text=s,this.height=g,this.widthFactor=u,this.obliqueAngleRadians=f,this.rotationAngleRadians=y,this.justify=L,this.underGroup=D}static getMovedWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMoved(e,r,i)}}exports.default=MText2DM,_MText2DM=MText2DM,_defineProperty(MText2DM,"newLine","\r\n"),_defineProperty(MText2DM,"getMoved",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=_lodash.default.cloneDeep(e);return r.cords.x=parseFloat(e.cords.x)+t,r.cords.y=parseFloat(e.cords.y)+n,r}),_defineProperty(MText2DM,"getScaled",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.cords=_Cords2D.default.getScaled2D(e.cords,t,n),r.height=parseFloat(e.height)*t,r}),_defineProperty(MText2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=parseFloat(e.cords.x),i=parseFloat(e.cords.y),d=_Math2D.default.getAngle_num(n.x,n.y,r,i),o=d+t;if(_Math2D.default.radians.rad360<o){let e=o/_Math2D.default.radians.rad360;o-=parseInt(e)*_Math2D.default.radians.rad360}let l=_Math2D.default.getDistance_num(n.x,n.y,r,i),a=_Math2D.default.getCordsWithLengthAndAngle(n,l,o);e.cords.x=a.x,e.cords.y=a.y;let s=parseFloat(e.rotationAngleRadians);return e.rotationAngleRadians=t+s,e}}),_defineProperty(MText2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_MText2DM.getMoved(e,t,n))),r}}),_defineProperty(MText2DM,"getScaledArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_MText2DM.getScaled(e,t,n))),r}}),_defineProperty(MText2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_MText2DM.getRotated(e,t,n))),r}}),_defineProperty(MText2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.cords=_Cords2D.default.getMirrored2D(e.cords,t,n),r}),_defineProperty(MText2DM,"getMirroredArray",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=[];return e.forEach(e=>r.push(_MText2DM.getMirrored(e,t,n))),r}),_defineProperty(MText2DM,"getDxf",e=>{let t="0"+_MText2DM.newLine+"MTEXT"+_MText2DM.newLine+"5"+_MText2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_MText2DM.newLine+"AcDbEntity"+_MText2DM.newLine+"8\r\n"+e.layer+_MText2DM.newLine+"100"+_MText2DM.newLine+"AcDbMText"+_MText2DM.newLine+"10"+_MText2DM.newLine+e.cords.x+_MText2DM.newLine+"20"+_MText2DM.newLine+e.cords.y+_MText2DM.newLine+"30"+_MText2DM.newLine+e.cords.z+_MText2DM.newLine+"40"+_MText2DM.newLine+e.height+_MText2DM.newLine+"41"+_MText2DM.newLine+e.recWidth+_MText2DM.newLine+"46"+_MText2DM.newLine+"0.0"+_MText2DM.newLine+"50"+_MText2DM.newLine+_Math2D.default.toDegrees(e.rotationAngleRadians)+_MText2DM.newLine+"71"+_MText2DM.newLine+"5"+_MText2DM.newLine+"72"+_MText2DM.newLine+"1"+_MText2DM.newLine+"1"+_MText2DM.newLine+"{\\C"+e.colorIndex+";"+e.text+"}"+_MText2DM.newLine+"7"+_MText2DM.newLine+e.style+_MText2DM.newLine+"73"+_MText2DM.newLine+"1"+_MText2DM.newLine+"44"+_MText2DM.newLine+"1.0"+_MText2DM.newLine;return t}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.regexp.to-string.js");var _MultiArc2DM,_ACColors=require("./ACColors"),_lodash=_interopRequireDefault(require("lodash")),_Cords2D=_interopRequireDefault(require("./Cords2D")),_Math2D=_interopRequireDefault(require("./Math2D")),_id=require("./id"),_Arc2DM=_interopRequireDefault(require("./Arc2DM")),_Line2DM=_interopRequireDefault(require("./Line2DM"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class MultiArc2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r=_ACColors.ACColors[2],colorIndex:i="2",lineType:d="ByLayer",layer:o="0",centerCords:l=null,radius:a=null,startAngle:s=null,endAngle:g=null,gap:u=1,isCloseLines:c=!1}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.centerCords=l,this.radius=a,this.startAngle=s,this.endAngle=g,this.gap=u,this.isCloseLines=c}static getMovedWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMoved(e,r,i)}}exports.default=MultiArc2DM,_MultiArc2DM=MultiArc2DM,_defineProperty(MultiArc2DM,"newLine","\r\n"),_defineProperty(MultiArc2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.centerCords=_Cords2D.default.getMoved2D(e.centerCords,t,n),new _MultiArc2DM(_objectSpread({},r))}}),_defineProperty(MultiArc2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_MultiArc2DM.getMoved(e,t,n))),r}}),_defineProperty(MultiArc2DM,"getScaled",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return 1!==t&&(r.centerCords=_Cords2D.default.getScaled2D(r.centerCords,t,n),r.radius*=t,r.gap*=t),r}),_defineProperty(MultiArc2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_MultiArc2DM.getScaled(e,t,n))),r}}),_defineProperty(MultiArc2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);if(0!==t){if(r.centerCords=_Cords2D.default.getRotated2D(r.centerCords,t,n),r.startAngle=parseFloat(e.startAngle)+t,_Math2D.default.radians.rad360<r.startAngle){let t=e.startAngle/_Math2D.default.radians.rad360;r.startAngle-=parseInt(t.toString())*_Math2D.default.radians.rad360}if(r.endAngle=parseFloat(e.endAngle)+t,_Math2D.default.radians.rad360<r.endAngle){let t=e.endAngle/_Math2D.default.radians.rad360;r.endAngle-=parseInt(t.toString())*_Math2D.default.radians.rad360}}return r}),_defineProperty(MultiArc2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_MultiArc2DM.getRotated(e,t,n))),r}}),_defineProperty(MultiArc2DM,"get_closing_lines",e=>{let t=_Math2D.default.getCordsWithLengthAndAngle(e.centerCords,e.radius,e.startAngle),n=_Math2D.default.getCordsWithLengthAndAngle(e.centerCords,e.radius,e.endAngle),r=_Math2D.default.fixAngle(e.startAngle+_Math2D.default.radians.rad180),i=_Math2D.default.fixAngle(e.endAngle+_Math2D.default.radians.rad180),d=_Math2D.default.getCordsWithLengthAndAngle(t,e.gap/2,r),o=_Math2D.default.getCordsWithLengthAndAngle(t,e.gap/2,e.startAngle),l=_Math2D.default.getCordsWithLengthAndAngle(n,e.gap/2,i),a=_Math2D.default.getCordsWithLengthAndAngle(n,e.gap/2,e.endAngle),s=new _Line2DM.default({startCords:l,endCords:a,colorIndex:e.colorIndex,color:e.color,lineType:e.lineType,layer:e.layer}),g=new _Line2DM.default({startCords:d,endCords:o,colorIndex:e.colorIndex,color:e.color,lineType:e.lineType,layer:e.layer});return[s,g]}),_defineProperty(MultiArc2DM,"getDxf",e=>{let t="",n="";if(e.isCloseLines){let r=_MultiArc2DM.get_closing_lines(e);t=_Line2DM.default.getDxf(r[0]),n=_Line2DM.default.getDxf(r[1])}let r=new _MultiArc2DM(_objectSpread(_objectSpread({},e),{},{radius:e.radius-e.gap/2})),i=new _MultiArc2DM(_objectSpread(_objectSpread({},e),{},{radius:e.radius+e.gap/2})),d=_Arc2DM.default.getDxf(r);return d+=_Arc2DM.default.getDxf(i),d+=t,d+=n,d}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _MultiLine2DM,_ACColors=require("./ACColors"),_lodash=_interopRequireDefault(require("lodash")),_Cords2D=_interopRequireDefault(require("./Cords2D")),_Line2DM=_interopRequireDefault(require("./Line2DM")),_Math2D=_interopRequireDefault(require("./Math2D")),_id=require("./id"),_LineType2DM=_interopRequireDefault(require("./LineType2DM"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class MultiLine2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r=_ACColors.ACColors[2],colorIndex:i="2",lineType:d="ByLayer",layer:o="0",startCords:l=null,endCords:a=null,gap:s=1,isCloseLines:g=!1}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.startCords=l,this.endCords=a,this.gap=s,this.isCloseLines=g}static getMovedWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMoved(e,r,i)}get_lines(e){let t=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],n=new _Line2DM.default({startCords:e.startCords,endCords:e.endCords,color:e.color,layer:e.layer,lineType:e.lineType,colorIndex:e.colorIndex}),r=_Math2D.default.getAngle(e.startCords,e.endCords),i=_Math2D.default.getCordsWithLengthAndAngle(e.startCords,e.gap/2,r+_Math2D.default.radians.rad90),d=_Math2D.default.getCordsWithLengthAndAngle(e.startCords,e.gap/2,r-_Math2D.default.radians.rad90),o=_Line2DM.default.getMovedWithCords(n,n.startCords,i),l=_Line2DM.default.getMovedWithCords(n,n.startCords,d);return t?{left_top_line:o,right_btm_line:l,c_line:n}:{left_top_line:o,right_btm_line:l}}}exports.default=MultiLine2DM,_MultiLine2DM=MultiLine2DM,_defineProperty(MultiLine2DM,"newLine","\r\n"),_defineProperty(MultiLine2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.startCords=_Cords2D.default.getMoved2D(e.startCords,t,n),r.endCords=_Cords2D.default.getMoved2D(e.endCords,t,n),new _MultiLine2DM(_objectSpread({},r))}}),_defineProperty(MultiLine2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_MultiLine2DM.getMoved(e,t,n))),r}}),_defineProperty(MultiLine2DM,"getScaled",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return 1!==t&&(r.startCords=_Cords2D.default.getScaled2D(r.startCords,t,n),r.endCords=_Cords2D.default.getScaled2D(r.endCords,t,n),r.gap*=t),r}),_defineProperty(MultiLine2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_MultiLine2DM.getScaled(e,t,n))),r}}),_defineProperty(MultiLine2DM,"getRotated",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return 0!==t&&(r.startCords=_Cords2D.default.getRotated2D(r.startCords,t,n),r.endCords=_Cords2D.default.getRotated2D(r.endCords,t,n)),r}),_defineProperty(MultiLine2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_MultiLine2DM.getRotated(e,t,n))),r}}),_defineProperty(MultiLine2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.startCords=_Cords2D.default.getMirrored2D(e.startCords,t,n),r.endCords=_Cords2D.default.getMirrored2D(e.endCords,t,n),new _MultiLine2DM(_objectSpread({},r))}),_defineProperty(MultiLine2DM,"get_closing_lines",e=>{let t=_Math2D.default.getAngle(e.startCords,e.endCords),n=_Math2D.default.fixAngle(t+_Math2D.default.radians.rad90),r=_Math2D.default.fixAngle(t-_Math2D.default.radians.rad90),i=_Math2D.default.getCordsWithLengthAndAngle(e.startCords,e.gap/2,n),d=_Math2D.default.getCordsWithLengthAndAngle(e.startCords,e.gap/2,r),o=_Math2D.default.getCordsWithLengthAndAngle(e.endCords,e.gap/2,n),l=_Math2D.default.getCordsWithLengthAndAngle(e.endCords,e.gap/2,r),a=new _Line2DM.default({startCords:o,endCords:l,colorIndex:e.colorIndex,color:e.color,lineType:e.lineType,layer:e.layer}),s=new _Line2DM.default({startCords:i,endCords:d,colorIndex:e.colorIndex,color:e.color,lineType:e.lineType,layer:e.layer});return[a,s]}),_defineProperty(MultiLine2DM,"getDxf",e=>{let t=new _MultiLine2DM({}).get_lines(e),n=t.left_top_line,r=t.right_btm_line,i=_Line2DM.default.getDxf(n);i+=_Line2DM.default.getDxf(r);let d="",o="";if(e.isCloseLines){let t=_MultiLine2DM.get_closing_lines(e);d=_Line2DM.default.getDxf(t[0]),o=_Line2DM.default.getDxf(t[1])}return i+=d,i+=o,i}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js");var _Point2DM,_Math2D=_interopRequireDefault(require("./Math2D")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_lodash=_interopRequireDefault(require("lodash")),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Point2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r="#ffffff",colorIndex:i="7",lineType:d="ByLayer",layer:o="Defpoints",pointCords:l=null,underGroup:a="canvas"}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.pointCords=l}}exports.default=Point2DM,_Point2DM=Point2DM,_defineProperty(Point2DM,"newLine","\r\n"),_defineProperty(Point2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.pointCords.x=parseFloat(e.pointCords.x)+t,r.pointCords.y=parseFloat(e.pointCords.y)+n,r}}),_defineProperty(Point2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Point2DM.getMoved(e,t,n))),r}}),_defineProperty(Point2DM,"getScaled",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1!==t){let r=n.x-(n.x-parseFloat(e.pointCords.x))*t,i=n.y-(n.y-parseFloat(e.pointCords.y))*t;return e.pointCords.x=r,e.pointCords.y=i,e}return e}),_defineProperty(Point2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Point2DM.getScaled(e,t,n))),r}}),_defineProperty(Point2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=parseFloat(e.pointCords.x),i=parseFloat(e.pointCords.y),d=_Math2D.default.getAngle_num(n.x,n.y,r,i),o=d+t;if(_Math2D.default.radians.rad360<o){let e=o/_Math2D.default.radians.rad360;o-=parseInt(e)*_Math2D.default.radians.rad360}let l=_Math2D.default.getDistance_num(n.x,n.y,r,i),a=_Math2D.default.getCordsWithLengthAndAngle(n,l,o);return e.pointCords.x=a.x,e.pointCords.y=a.y,e}}),_defineProperty(Point2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Point2DM.getRotated(e,t,n))),r}}),_defineProperty(Point2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.pointCords=_Cords2D.default.getMirrored2D(e.pointCords,t,n),r}),_defineProperty(Point2DM,"getMirroredArray",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=[];return e.forEach(e=>r.push(_Point2DM.getMirrored(e,t,n))),r}),_defineProperty(Point2DM,"getDxf",e=>{let t="0"+_Point2DM.newLine+"POINT"+_Point2DM.newLine+"5"+_Point2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Point2DM.newLine+"AcDbEntity"+_Point2DM.newLine+"8\r\n"+e.layer+_Point2DM.newLine+"6\r\n"+e.lineType+_Point2DM.newLine+"100"+_Point2DM.newLine+"AcDbPoint"+_Point2DM.newLine+"10"+_Point2DM.newLine+e.pointCords.x+_Point2DM.newLine+"20"+_Point2DM.newLine+e.pointCords.y+_Point2DM.newLine+"30"+_Point2DM.newLine+e.pointCords.z+_Point2DM.newLine+"62"+_Point2DM.newLine+e.colorIndex+_Point2DM.newLine;return t}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/web.dom-collections.iterator.js");var _Polyline2DM,_Math2D=_interopRequireDefault(require("./Math2D")),_lodash=_interopRequireDefault(require("lodash")),_LineType2DM=_interopRequireDefault(require("./LineType2DM")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Polyline2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r="#ffffff",colorIndex:i="7",lineType:d="ByLayer",layer:o="0",vertices:l=null,polyCords:a=[],width:s=.5,closed:g=!1}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.vertices=l,this.polyCords=a,this.width=s,this.closed=g}}exports.default=Polyline2DM,_Polyline2DM=Polyline2DM,_defineProperty(Polyline2DM,"newLine","\r\n"),_defineProperty(Polyline2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);for(let d=0;d<r.polyCords.length;d++)r.polyCords[d]=_Cords2D.default.getMoved2D(e.polyCords[d],t,n);return new _Polyline2DM(_objectSpread({},r))}}),_defineProperty(Polyline2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Polyline2DM.getMoved(e,t,n))),r}}),_defineProperty(Polyline2DM,"getMovedWithCords",(e,t,n)=>{let r=n.x-t.x,i=n.y-t.y;return _Polyline2DM.getMoved(e,r,i)}),_defineProperty(Polyline2DM,"getMovedArrayWithCords",(e,t,n)=>{let r=n.x-t.x,i=n.y-t.y;return _Polyline2DM.getMovedArray(e,r,i)}),_defineProperty(Polyline2DM,"getScaled",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1!==t){let r=_lodash.default.cloneDeep(e);for(let d=0;d<r.polyCords.length;d++)r.polyCords[d]=_Cords2D.default.getScaled2D(e.polyCords[d],t,n);return r.width=e.width*t,new _Polyline2DM(_objectSpread({},r))}return e}),_defineProperty(Polyline2DM,"getScaledArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Polyline2DM.getScaled(e,t,n))),r}}),_defineProperty(Polyline2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);if(0===t)return r;for(let d=0;d<e.polyCords.length;d++){let i=parseFloat(e.polyCords[d].x),o=parseFloat(e.polyCords[d].y),l=_Math2D.default.getAngle_num(n.x,n.y,i,o),a=_Math2D.default.getDistance_num(n.x,n.y,i,o),s=l+t;if(_Math2D.default.radians.rad360<s){let e=s/_Math2D.default.radians.rad360;s-=parseInt(e)*_Math2D.default.radians.rad360}let g=_Math2D.default.getCordsWithLengthAndAngle(n,a,s);r.polyCords[d].x=g.x,r.polyCords[d].y=g.y}return new _Polyline2DM(_objectSpread({},r))}),_defineProperty(Polyline2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Polyline2DM.getRotated(e,t,n))),r}}),_defineProperty(Polyline2DM,"getMirrored",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:"x",r=_lodash.default.cloneDeep(e);for(let d=0;d<r.polyCords.length;d++)r.polyCords[d]=_Cords2D.default.getMirrored2D(e.polyCords[d],t,n);return new _Polyline2DM(_objectSpread({},r))}),_defineProperty(Polyline2DM,"getDxf",e=>{let t="0"+_Polyline2DM.newLine+"LWPOLYLINE"+_Polyline2DM.newLine+"5"+_Polyline2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"330"+_Polyline2DM.newLine+"70"+_Polyline2DM.newLine+"100"+_Polyline2DM.newLine+"AcDbEntity"+_Polyline2DM.newLine+"8\r\n"+e.layer+_Polyline2DM.newLine+"6\r\n"+e.lineType+_Polyline2DM.newLine+"100"+_Polyline2DM.newLine+"AcDbPolyline"+_Polyline2DM.newLine+" 90"+_Polyline2DM.newLine+e.polyCords.length+_Polyline2DM.newLine+"70"+_Polyline2DM.newLine+"0"+_Polyline2DM.newLine+"43"+_Polyline2DM.newLine+e.width+_Polyline2DM.newLine,n="";for(const t of e.polyCords)n+="10\r\n"+t.x+"\r\n20\r\n"+t.y+"\r\n42\r\n0\r\n";return t+=n,t+="62"+_Polyline2DM.newLine+e.colorIndex+_Polyline2DM.newLine,t}),_defineProperty(Polyline2DM,"getDxfArray",e=>{let t="";return _lodash.default.isEmpty(e)||e.forEach(e=>t+=_Polyline2DM.getDxf(e)),t});var _getIsDashed={_:e=>({center:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.CENTER.toLowerCase(),dashed:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DASHED.toLowerCase(),dotted:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.DOTTED.toLowerCase(),phantom:e.lineType.toLowerCase()===_LineType2DM.default.LineTypeNames.PHANTOM.toLowerCase()})};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _Rectangular2DM,_lodash=_interopRequireDefault(require("lodash")),_id=require("./id"),_Cords2D=_interopRequireDefault(require("./Cords2D")),_Polyline2DM=_interopRequireDefault(require("./Polyline2DM")),_ACColors=require("./ACColors");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Rectangular2DM{constructor(e){let{id:t=_id.ID.getId(),color:n=_ACColors.ACColors[21],colorIndex:r="2",lineType:i="ByLayer",layer:d="0",length:o=100,height:l=100,width:a=.5,cords:s=new _Cords2D.default,match_Point:g="lb"}=e;this.id=t,this.color=n,this.colorIndex=r,this.layer=d,this.lineType=i,this.length=o,this.height=l,this.width=a,this.cords=s,this.match_Point=g}static get_rectangular_cords(e,t,n){let r=new _Cords2D.default(e.x+t,e.y),i=new _Cords2D.default(e.x,e.y+n),d=new _Cords2D.default(r.x,r.y+n);return{lb_cords:e,rb_cords:r,lt_cords:i,rt_cords:d}}static get_rectangular_pLine(e){let t,n=e.height,r=e.width,i=e.length,d=e.cords,o=e.match_Point,l=new _Cords2D.default,a=new _Cords2D.default(l.x+i,l.y),s=new _Cords2D.default(l.x,l.y+n),g=new _Cords2D.default(a.x,a.y+n);t="lb"===o?l:"rb"===o?a:"lt"===o?s:g;let u=_Cords2D.default.getMoved2D_withCords(l,t,d),c=_Cords2D.default.getMoved2D_withCords(a,t,d),f=_Cords2D.default.getMoved2D_withCords(s,t,d),y=_Cords2D.default.getMoved2D_withCords(g,t,d),L=new _Polyline2DM.default({closed:!0,polyCords:[u,c,y,f,u],width:r,color:e.color,colorIndex:e.colorIndex,lineType:e.lineType});return{pLine:L,cords:{lb:u,rb:c,lt:f,rt:y}}}}exports.default=Rectangular2DM,_Rectangular2DM=Rectangular2DM,_defineProperty(Rectangular2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.cords=_Cords2D.default.getMoved2D(e.cords,t,n),new _Rectangular2DM(_objectSpread({},r))}}),_defineProperty(Rectangular2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Rectangular2DM.getMoved(e,t,n))),r}}),_defineProperty(Rectangular2DM,"getMovedWithCords",(e,t,n)=>{let r=n.x-t.x,i=n.y-t.y;return _Rectangular2DM.getMoved(e,r,i)}),_defineProperty(Rectangular2DM,"getMovedArrayWithCords",(e,t,n)=>{let r=n.x-t.x,i=n.y-t.y;return _Rectangular2DM.getMovedArray(e,r,i)}),_defineProperty(Rectangular2DM,"getScaled",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1!==t){let r=_lodash.default.cloneDeep(e);return r.cords=_Cords2D.default.getScaled2D(e.cords,t,n),new _Rectangular2DM(_objectSpread({},r))}return e}),_defineProperty(Rectangular2DM,"getScaledArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Rectangular2DM.getScaled(e,t,n))),r}}),_defineProperty(Rectangular2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=_lodash.default.cloneDeep(e);return r.cords=_Cords2D.default.getRotated2D(e.cords,t,n),new _Rectangular2DM(_objectSpread({},r))}}),_defineProperty(Rectangular2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Rectangular2DM.getRotated(e,t,n))),r}}),_defineProperty(Rectangular2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.cords=_Cords2D.default.getMirrored2D(e.cords,t,n),new _Rectangular2DM(_objectSpread({},r))}),_defineProperty(Rectangular2DM,"getMirroredArray",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=[];return e.forEach(e=>r.push(_Rectangular2DM.getMirrored(e,t,n))),r}),_defineProperty(Rectangular2DM,"getDxf",e=>{let t=_Rectangular2DM.get_rectangular_pLine(e);return _Polyline2DM.default.getDxf(t)}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _Solid2DM,_lodash=_interopRequireDefault(require("lodash")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Solid2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r="yellow",colorIndex:i="2",lineType:d="ByLayer",layer:o="0",firstCords:l=null,secondCords:a=null,thirdCords:s=null,fourthCords:g=null}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.firstCords=l,this.secondCords=a,this.thirdCords=s,this.fourthCords=g}static getMovedWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMoved(e,r,i)}}exports.default=Solid2DM,_Solid2DM=Solid2DM,_defineProperty(Solid2DM,"newLine","\r\n"),_defineProperty(Solid2DM,"getMoved",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=_lodash.default.cloneDeep(e);return r.firstCords=_Cords2D.default.getMoved2D(e.firstCords,t,n),r.secondCords=_Cords2D.default.getMoved2D(e.secondCords,t,n),r.thirdCords=_Cords2D.default.getMoved2D(e.thirdCords,t,n),r.fourthCords=_Cords2D.default.getMoved2D(e.fourthCords,t,n),r}}),_defineProperty(Solid2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(0===t&&0===n)return e;else{let r=[];return e.forEach(e=>r.push(_Solid2DM.getMoved(e,t,n))),r}}),_defineProperty(Solid2DM,"getScaled",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return 1!==t&&(r.firstCords=_Cords2D.default.getScaled2D(e.firstCords,t,n),r.secondCords=_Cords2D.default.getScaled2D(e.secondCords,t,n),r.thirdCords=_Cords2D.default.getScaled2D(e.thirdCords,t,n),r.fourthCords=_Cords2D.default.getScaled2D(e.fourthCords,t,n)),r}),_defineProperty(Solid2DM,"getScaledArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Solid2DM.getScaled(e,t,n))),r}}),_defineProperty(Solid2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=_lodash.default.cloneDeep(e);return r.firstCords=_Cords2D.default.getRotated2D(e.firstCords,t,n),r.secondCords=_Cords2D.default.getRotated2D(e.secondCords,t,n),r.thirdCords=_Cords2D.default.getRotated2D(e.thirdCords,t,n),r.fourthCords=_Cords2D.default.getRotated2D(e.fourthCords,t,n),r}}),_defineProperty(Solid2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Solid2DM.getRotated(e,t,n))),r}}),_defineProperty(Solid2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.firstCords=_Cords2D.default.getMirrored2D(e.firstCords,t,n),r.secondCords=_Cords2D.default.getMirrored2D(e.secondCords,t,n),r.thirdCords=_Cords2D.default.getMirrored2D(e.thirdCords,t,n),r.fourthCords=_Cords2D.default.getMirrored2D(e.fourthCords,t,n),r}),_defineProperty(Solid2DM,"getDxf",e=>"0"+_Solid2DM.newLine+"SOLID"+_Solid2DM.newLine+"5"+_Solid2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Solid2DM.newLine+"AcDbEntity"+_Solid2DM.newLine+"8\r\n"+e.layer+_Solid2DM.newLine+"6\r\n"+e.lineType+_Solid2DM.newLine+"100"+_Solid2DM.newLine+"AcDbTrace"+_Solid2DM.newLine+"10"+_Solid2DM.newLine+e.firstCords.x+_Solid2DM.newLine+"20"+_Solid2DM.newLine+e.firstCords.y+_Solid2DM.newLine+"30"+_Solid2DM.newLine+e.firstCords.z+_Solid2DM.newLine+"11"+_Solid2DM.newLine+e.secondCords.x+_Solid2DM.newLine+"21"+_Solid2DM.newLine+e.secondCords.y+_Solid2DM.newLine+"31"+_Solid2DM.newLine+e.secondCords.z+_Solid2DM.newLine+"12"+_Solid2DM.newLine+e.thirdCords.x+_Solid2DM.newLine+"22"+_Solid2DM.newLine+e.thirdCords.y+_Solid2DM.newLine+"32"+_Solid2DM.newLine+e.thirdCords.z+_Solid2DM.newLine+"13"+_Solid2DM.newLine+e.fourthCords.x+_Solid2DM.newLine+"23"+_Solid2DM.newLine+e.fourthCords.y+_Solid2DM.newLine+"33"+_Solid2DM.newLine+e.fourthCords.z+_Solid2DM.newLine+"62"+_Solid2DM.newLine+e.colorIndex+_Solid2DM.newLine),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/es.parse-float.js"),require("core-js/modules/es.parse-int.js"),require("core-js/modules/es.regexp.exec.js"),require("core-js/modules/es.regexp.to-string.js"),require("core-js/modules/es.string.replace.js");var _Text2DM,_Math2D=_interopRequireDefault(require("./Math2D")),_UtilDXF=require("./UtilDXF"),_id=require("./id"),_lodash=_interopRequireDefault(require("lodash")),_ACColors=require("./ACColors"),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Text2DM{constructor(e){let{id:t=_id.ID.getId(),handler:n="null",color:r=_ACColors.ACColors[3],colorIndex:i="3",lineType:d="ByLayer",layer:o="0",startCords:l=null,endCords:a=null,threeJsCords:s=null,text:g="",height:u=2.5,widthFactor:c=.8,style:f="STANDARD",obliqueAngleRadians:y="0.0",rotationAngleRadians:L="0.0",hJustify:D=0,vJustify:w=0}=e;this.id=t,this.handler=n,this.color=r,this.colorIndex=i,this.layer=o,this.lineType=d,this.style=f,this.startCords=l,this.endCords=a,this.threeJsCords=s,this.text=g,this.height=u,this.widthFactor=c,this.obliqueAngleRadians=y,this.rotationAngleRadians=L,this.hJustify=D,this.vJustify=w}static getMovedWithCords(e,t,n){let r=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3],i=n.x-t.x,d=n.y-t.y;return this.getMoved(e,i,d,r)}static getMovedArrayWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMovedArray(e,r,i)}}exports.default=Text2DM,_Text2DM=Text2DM,_defineProperty(Text2DM,"newLine","\r\n"),_defineProperty(Text2DM,"STYLE",{romanC:"ROMANC",romanD:"ROMAND",romanS:"ROMANS"}),_defineProperty(Text2DM,"getMoved",function(e){let t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,r=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],i=_lodash.default.cloneDeep(e);return i.startCords=_Cords2D.default.getMoved2D(e.startCords,t,n),null!==e.endCords&&(i.endCords=_Cords2D.default.getMoved2D(e.endCords,t,n)),r&&(i.id=_id.ID.getId()),i}),_defineProperty(Text2DM,"getMovedArray",function(e){let t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,r=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3];if(0===t&&0===n)return e;else{let i=[];return e.forEach(e=>i.push(_Text2DM.getMoved(e,t,n,r))),i}}),_defineProperty(Text2DM,"getScaled",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{x:0,y:0,z:0},r=_lodash.default.cloneDeep(e);return r.startCords=_Cords2D.default.getScaled2D(e.startCords,t,n),null!==e.endCords&&(r.endCords=_Cords2D.default.getScaled2D(e.endCords,t,n)),r.height=parseFloat(e.height)*t,r}),_defineProperty(Text2DM,"getScaledArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(1===t)return e;else{let r=[];return e.forEach(e=>r.push(_Text2DM.getScaled(e,t,n))),r}}),_defineProperty(Text2DM,"getRotated",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=parseFloat(e.startCords.x),i=parseFloat(e.startCords.y),d=_Math2D.default.getAngle_num(n.x,n.y,r,i),o=d+t;if(_Math2D.default.radians.rad360<o){let e=o/_Math2D.default.radians.rad360;o-=parseInt(e)*_Math2D.default.radians.rad360}let l=_Math2D.default.getDistance_num(n.x,n.y,r,i),a=_Math2D.default.getCordsWithLengthAndAngle(n,l,o);e.startCords.x=a.x,e.startCords.y=a.y;let s=parseFloat(e.rotationAngleRadians);return e.rotationAngleRadians=t+s,e}}),_defineProperty(Text2DM,"getRotatedArray",function(e,t){let n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{x:0,y:0,z:0};if(0===t)return e;else{let r=[];return e.forEach(e=>r.push(_Text2DM.getRotated(e,t,n))),r}}),_defineProperty(Text2DM,"getMirrored",function(e,t){let n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"x",r=_lodash.default.cloneDeep(e);return r.startCords=_Cords2D.default.getMirrored2D(e.startCords,t,n),null!==e.endCords&&(r.endCords=_Cords2D.default.getMirrored2D(e.endCords,t,n)),r}),_defineProperty(Text2DM,"getDxf",e=>{var t=Math.PI;let n=e.text;null===e.text||void 0===e.text?(e.text="",n=""):n=e.text.toString();let r="0"+_Text2DM.newLine+"TEXT"+_Text2DM.newLine+"5"+_Text2DM.newLine+_UtilDXF.UtilDXF.getHandler()+"100"+_Text2DM.newLine+"AcDbEntity"+_Text2DM.newLine+"8\r\n"+e.layer+_Text2DM.newLine+"6\r\n"+e.lineType+_Text2DM.newLine+"100"+_Text2DM.newLine+"AcDbText"+_Text2DM.newLine+"1"+_Text2DM.newLine;""!==n.text&&(n=n.replace("\n"," "),n=n.replace("\r\n"," "));let i="";return 0!==e.hJustify&&(i+="11"+_Text2DM.newLine+e.endCords.x+_Text2DM.newLine+"21"+_Text2DM.newLine+e.endCords.y+_Text2DM.newLine+"31"+_Text2DM.newLine+e.endCords.z+_Text2DM.newLine),r+=n+_Text2DM.newLine+"72"+_Text2DM.newLine+e.hJustify+_Text2DM.newLine+"7"+_Text2DM.newLine+e.style+_Text2DM.newLine+"10"+_Text2DM.newLine+e.startCords.x+_Text2DM.newLine+"20"+_Text2DM.newLine+e.startCords.y+_Text2DM.newLine+"30"+_Text2DM.newLine+e.startCords.z+_Text2DM.newLine+"40"+_Text2DM.newLine+e.height+_Text2DM.newLine+i+"41"+_Text2DM.newLine+e.widthFactor+_Text2DM.newLine+"50"+_Text2DM.newLine+180*e.rotationAngleRadians/t+_Text2DM.newLine+"51"+_Text2DM.newLine+180*e.obliqueAngleRadians/t+_Text2DM.newLine+"62"+_Text2DM.newLine+e.colorIndex+_Text2DM.newLine+"100"+_Text2DM.newLine+"AcDbText"+_Text2DM.newLine+"73"+_Text2DM.newLine+e.vJustify+_Text2DM.newLine,r}),_defineProperty(Text2DM,"getDxfArray",e=>{let t="";return e.forEach(e=>t+=_Text2DM.getDxf(e)),t}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _Drawing=_interopRequireDefault(require("./Drawing"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class TextStyle2DM{constructor(e){let{name:t="",description:n="",height:r="",scale:i=""}=e;this.name=t,this.description=n,this.height=r,this.scale=i}static getTextStyles(e){let t=_getStartTextStyleTableDxf._.call(TextStyle2DM,e[0]);for(let n=0;n<_Drawing.default.TextStyles.length;n++)t+=_getStartTextStyleDxf._.call(TextStyle2DM,e[n+1]),t+=_getTextStyleDXF._.call(TextStyle2DM,_Drawing.default.TextStyles[n]);return t+="0"+_Drawing.default.newLine+"ENDTAB"+_Drawing.default.newLine,t}}exports.default=TextStyle2DM;var _getStartTextStyleTableDxf={_:e=>"0"+_Drawing.default.newLine+"TABLE"+_Drawing.default.newLine+"2"+_Drawing.default.newLine+"STYLE"+_Drawing.default.newLine+"5"+_Drawing.default.newLine+e+"100"+_Drawing.default.newLine+"AcDbSymbolTable"+_Drawing.default.newLine+"70"+_Drawing.default.newLine+_Drawing.default.TextStyles.length+_Drawing.default.newLine},_getStartTextStyleDxf={_:e=>"0"+_Drawing.default.newLine+"STYLE"+_Drawing.default.newLine+"5"+_Drawing.default.newLine+e+"100"+_Drawing.default.newLine+"AcDbSymbolTableRecord"+_Drawing.default.newLine+"100"+_Drawing.default.newLine+"AcDbTextStyleTableRecord"+_Drawing.default.newLine},_getTextStyleDXF={_:e=>"2"+_Drawing.default.newLine+e.name+_Drawing.default.newLine+"70"+_Drawing.default.newLine+"0"+_Drawing.default.newLine+"40"+_Drawing.default.newLine+"0"+_Drawing.default.newLine+"41"+_Drawing.default.newLine+"1"+_Drawing.default.newLine+"50"+_Drawing.default.newLine+"0"+_Drawing.default.newLine+"71"+_Drawing.default.newLine+"0"+_Drawing.default.newLine+"42"+_Drawing.default.newLine+"2.5"+_Drawing.default.newLine+"3"+_Drawing.default.newLine+e.name+_Drawing.default.newLine+"4"+_Drawing.default.newLine+_Drawing.default.newLine};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _Drawing=_interopRequireDefault(require("./Drawing"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Ucs2DM{constructor(e){let{name:t=""}=e;this.name=t}static getUCS(e){return"0"+this.newLine+"TABLE"+this.newLine+"2"+this.newLine+"UCS"+this.newLine+"5"+this.newLine+e+"100"+this.newLine+"AcDbSymbolTable"+this.newLine+"70"+this.newLine+_Drawing.default.UCS.length+this.newLine+"0"+this.newLine+"ENDTAB"+this.newLine}}exports.default=Ucs2DM,_defineProperty(Ucs2DM,"newLine","\r\n"),"use strict",require("core-js/modules/es.symbol.description.js"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.UtilDXF=void 0,require("core-js/modules/es.regexp.to-string.js");var _UtilDXF;function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}function _assertClassBrand(r,e,t){if("function"==typeof r?r===e:r.has(e))return 3>arguments.length?e:t;throw new TypeError("Private element is not present on this object")}class UtilDXF{}exports.UtilDXF=UtilDXF,_UtilDXF=UtilDXF;var _intHandler={_:1};_defineProperty(UtilDXF,"getHandler",()=>{let e=_assertClassBrand(_UtilDXF,_UtilDXF,_intHandler)._.toString(16).toUpperCase();return"3C6"===e&&console.log(""),"D"===e&&(_intHandler._=_assertClassBrand(_UtilDXF,_UtilDXF,_assertClassBrand(_UtilDXF,_UtilDXF,_intHandler)._+1),e=_assertClassBrand(_UtilDXF,_UtilDXF,_intHandler)._.toString(16).toUpperCase()),_intHandler._=_assertClassBrand(_UtilDXF,_UtilDXF,_assertClassBrand(_UtilDXF,_UtilDXF,_intHandler)._+1),e+"\r\n"}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _Drawing=_interopRequireDefault(require("./Drawing"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class Views2DM{constructor(e){let{name:t=""}=e;this.name=t}static getViews(e){return"0"+this.newLine+"TABLE"+this.newLine+"2"+this.newLine+"VIEW"+this.newLine+"5"+this.newLine+e+"100"+this.newLine+"AcDbSymbolTable"+this.newLine+"70"+this.newLine+_Drawing.default.Views.length+this.newLine+"0"+this.newLine+"ENDTAB"+this.newLine}}exports.default=Views2DM,_defineProperty(Views2DM,"newLine","\r\n"),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("core-js/modules/es.symbol.description.js");var _VPort2DM,_Drawing=_interopRequireDefault(require("./Drawing"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class VPort2DM{constructor(e){let{name:t=""}=e;this.name=t}static getVPorts(e){let t=_getStartVPortTableDxf._.call(VPort2DM,e[0]);for(let n=0;n<_Drawing.default.VPorts.length;n++)t+=_getStartVPortDxf._.call(VPort2DM,e[n+1]),t+=_getVPortDXF._.call(VPort2DM,_Drawing.default.VPorts[n]);return t+="0"+this.newLine+"ENDTAB"+this.newLine,t}}exports.default=VPort2DM,_VPort2DM=VPort2DM,_defineProperty(VPort2DM,"newLine","\r\n");var _getStartVPortTableDxf={_:e=>"0"+_VPort2DM.newLine+"TABLE"+_VPort2DM.newLine+"2"+_VPort2DM.newLine+"VPORT"+_VPort2DM.newLine+"5"+_VPort2DM.newLine+e+"100"+_VPort2DM.newLine+"AcDbSymbolTable"+_VPort2DM.newLine+"70"+_VPort2DM.newLine+_Drawing.default.VPorts.length+_VPort2DM.newLine},_getStartVPortDxf={_:e=>"0"+_VPort2DM.newLine+"VPORT"+_VPort2DM.newLine+"5"+_VPort2DM.newLine+e+"100"+_VPort2DM.newLine+"AcDbSymbolTableRecord"+_VPort2DM.newLine+"100"+_VPort2DM.newLine+"AcDbViewportTableRecord"+_VPort2DM.newLine},_getVPortDXF={_:e=>"2"+_VPort2DM.newLine+e.name+_VPort2DM.newLine+"40"+_VPort2DM.newLine+"1000"+_VPort2DM.newLine+"70"+_VPort2DM.newLine+"0"+_VPort2DM.newLine};"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports._AllEntities=void 0,require("core-js/modules/es.symbol.description.js"),require("core-js/modules/web.dom-collections.iterator.js");var _AllEntities2,_Entities2D2=require("./_Entities2D"),_BlockEntities2D2=require("./_BlockEntities2D"),_ObjectEntities2=require("./_ObjectEntities"),_lodash=_interopRequireDefault(require("lodash"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class _AllEntities{constructor(e){let{entities2d:t=[],objectEntities2d:n=[],blockEntities2d:r=[]}=e;this.entities2d=t,this.objectEntities2d=n,this.blockEntities2d=r}static isEmpty(e){let t=!0;if(_lodash.default.isArray(e.entities2d))for(let n=0;n<e.entities2d.length&&(t=_Entities2D2._Entities2D.isEmpty(e.entities2d[n]),!!t);n++);else t=_Entities2D2._Entities2D.isEmpty(e.entities2d);let n=!0;if(_lodash.default.isArray(e.blockEntities2d))for(let t=0;t<e.blockEntities2d.length&&(n=_BlockEntities2D2._BlockEntities2D.isEmpty(e.blockEntities2d[t]),!!n);t++);else n=_BlockEntities2D2._BlockEntities2D.isEmpty(e.entities2d);let r=!0;if(_lodash.default.isArray(e.objectEntities2d))for(let t=0;t<e.objectEntities2d.length&&(r=_ObjectEntities2._ObjectEntities.isEmpty(e.objectEntities2d[t]),!!r);t++);else r=_ObjectEntities2._ObjectEntities.isEmpty(e.objectEntities2d);return t&&n&&r}static getDestructured(e){let t=[];_lodash.default.isArray(e.entities2d)?!_lodash.default.isEmpty(e.entities2d)&&t.push(...e.entities2d):!_lodash.default.isEmpty(e.entities2d)&&t.push(e.entities2d);let n=[];_lodash.default.isArray(e.blockEntities2d)?!_lodash.default.isEmpty(e.blockEntities2d)&&n.push(...e.blockEntities2d):!_lodash.default.isEmpty(e.blockEntities2d)&&n.push(e.blockEntities2d);let r=[];return _lodash.default.isArray(e.objectEntities2d)?!_lodash.default.isEmpty(e.objectEntities2d)&&r.push(...e.objectEntities2d):!_lodash.default.isEmpty(e.objectEntities2d)&&r.push(e.objectEntities2d),new _AllEntities({entities2d:t,objectEntities2d:r,blockEntities2d:n})}static getMerge(e,t){let n=this.getDestructured(e),r=this.getDestructured(t);return new _AllEntities({entities2d:[...n.entities2d,...r.entities2d],objectEntities2d:[...n.objectEntities2d,...r.objectEntities2d],blockEntities2d:[...n.blockEntities2d,...r.blockEntities2d]})}static getDxf(e){let t="",n="";if(_lodash.default.isArray(e.entities2d))for(let r,d=0;d<e.entities2d.length;d++)r=_Entities2D2._Entities2D.getDxf(e.entities2d[d]),t+=r.dxf,n+=r.block_dxf;else{let r=_Entities2D2._Entities2D.getDxf(e.entities2d);t+=r.dxf,n+=r.block_dxf}if(_lodash.default.isArray(e.blockEntities2d))for(let r,d=0;d<e.blockEntities2d.length;d++)r=_BlockEntities2D2._BlockEntities2D.getDxf(e.blockEntities2d[d]),t+=r.dxf,n+=r.block_dxf;else{let r=_BlockEntities2D2._BlockEntities2D.getDxf(e.blockEntities2d);t+=r.dxf,n+=r.block_dxf}if(_lodash.default.isArray(e.objectEntities2d))for(let r,d=0;d<e.objectEntities2d.length;d++)r=_ObjectEntities2._ObjectEntities.getDxf(e.objectEntities2d[d]),t+=r.dxf,n+=r.block_dxf;else{let r=_ObjectEntities2._ObjectEntities.getDxf(e.objectEntities2d);t+=r.dxf,n+=r.block_dxf}return{dxf:t,block_dxf:n}}static getMoved(e,t,n){let r=[];if(_lodash.default.isArray(e.entities2d))for(let d,o=0;o<e.entities2d.length;o++)d=_lodash.default.cloneDeep(e.entities2d[o]),r.push(_Entities2D2._Entities2D.getMoved({entities:d,moveX:t,moveY:n}));else{let i=_lodash.default.cloneDeep(e.entities2d);r=_Entities2D2._Entities2D.getMoved({entities:i,moveX:t,moveY:n})}let d=[];if(_lodash.default.isArray(e.blockEntities2d))for(let r,o=0;o<e.blockEntities2d.length;o++)r=_lodash.default.cloneDeep(e.blockEntities2d[o]),d.push(_BlockEntities2D2._BlockEntities2D.getMoved({blockEntities:r,moveX:t,moveY:n}));else{let r=_lodash.default.cloneDeep(e.blockEntities2d);d=_BlockEntities2D2._BlockEntities2D.getMoved({blockEntities:r,moveX:t,moveY:n})}let o=[];if(_lodash.default.isArray(e.objectEntities2d))for(let r,d=0;d<e.objectEntities2d.length;d++)r=_lodash.default.cloneDeep(e.objectEntities2d[d]),o.push(_ObjectEntities2._ObjectEntities.getMoved({objEntities:r,moveX:t,moveY:n}));else{let r=_lodash.default.cloneDeep(e.objectEntities2d);o=_ObjectEntities2._ObjectEntities.getMoved({objEntities:r,moveX:t,moveY:n})}return new _AllEntities({entities2d:r,objectEntities2d:o,blockEntities2d:d})}static getMovedWithCords(e,t,n){let r=n.x-t.x,i=n.y-t.y;return this.getMoved(e,r,i)}static getScaled(e,t,n){let r=[];if(_lodash.default.isArray(e.entities2d))for(let d,o=0;o<e.entities2d.length;o++)d=_lodash.default.cloneDeep(e.entities2d[o]),r.push(_Entities2D2._Entities2D.getScaled({entities:d,scale:t,scalePoint:n}));else{let i=_lodash.default.cloneDeep(e.entities2d);r=_Entities2D2._Entities2D.getScaled({entities:i,scale:t,scalePoint:n})}let d=[];if(_lodash.default.isArray(e.blockEntities2d))for(let r,o=0;o<e.blockEntities2d.length;o++)r=_lodash.default.cloneDeep(e.blockEntities2d[o]),d.push(_BlockEntities2D2._BlockEntities2D.getScaled({blockEntities:r,scale:t,scalePoint:n}));else{let r=_lodash.default.cloneDeep(e.blockEntities2d);d=_BlockEntities2D2._BlockEntities2D.getScaled({blockEntities:r,scale:t,scalePoint:n})}let o=[];if(_lodash.default.isArray(e.objectEntities2d))for(let r,d=0;d<e.objectEntities2d.length;d++)r=_lodash.default.cloneDeep(e.objectEntities2d[d]),o.push(_ObjectEntities2._ObjectEntities.getScaled({objEntities:r,scale:t,scalePoint:n}));else{let r=_lodash.default.cloneDeep(e.objectEntities2d);o=_ObjectEntities2._ObjectEntities.getScaled({objEntities:r,scale:t,scalePoint:n})}return new _AllEntities({entities2d:r,objectEntities2d:o,blockEntities2d:d})}static getRotated(e,t,n){let r=[];if(_lodash.default.isArray(e.entities2d))for(let d,o=0;o<e.entities2d.length;o++)d=_lodash.default.cloneDeep(e.entities2d[o]),r.push(_Entities2D2._Entities2D.getRotated({entities:d,rotationAngle:t,rotationCords:n}));else{let i=_lodash.default.cloneDeep(e.entities2d);r=_Entities2D2._Entities2D.getRotated({entities:i,rotationAngle:t,rotationCords:n})}let d=[];if(_lodash.default.isArray(e.blockEntities2d))for(let r,o=0;o<e.blockEntities2d.length;o++)r=_lodash.default.cloneDeep(e.blockEntities2d[o]),d.push(_BlockEntities2D2._BlockEntities2D.getRotated({blockEntities:r,rotationAngle:t,rotationCords:n}));else{let r=_lodash.default.cloneDeep(e.blockEntities2d);d=_BlockEntities2D2._BlockEntities2D.getRotated({blockEntities:r,rotationAngle:t,rotationCords:n})}let o=[];if(_lodash.default.isArray(e.objectEntities2d))for(let r,d=0;d<e.objectEntities2d.length;d++)r=_lodash.default.cloneDeep(e.objectEntities2d[d]),o.push(_ObjectEntities2._ObjectEntities.getRotated({objEntities:r,rotationAngle:t,rotationCords:n}));else{let r=_lodash.default.cloneDeep(e.objectEntities2d);o=_ObjectEntities2._ObjectEntities.getRotated({objEntities:r,rotationAngle:t,rotationCords:n})}return new _AllEntities({entities2d:r,objectEntities2d:o,blockEntities2d:d})}}exports._AllEntities=_AllEntities,_AllEntities2=_AllEntities,_defineProperty(_AllEntities,"getScaledArray",(e,t,n)=>{if(_lodash.default.isEmpty(e))return e;else{let r=[];return e.forEach(e=>r.push(_AllEntities2.getScaled(e,t,n))),r}}),"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports._BlockEntities2D=void 0,require("core-js/modules/es.symbol.description.js");var _Entities2D2=require("./_Entities2D"),_Cords2D=_interopRequireDefault(require("./Cords2D")),_Blocks2DM=_interopRequireDefault(require("./Blocks2DM"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),r.push.apply(r,t)}return r}function _objectSpread(n){for(var e,i=1;i<arguments.length;i++)e=null==arguments[i]?{}:arguments[i],i%2?ownKeys(Object(e),!0).forEach(function(t){_defineProperty(n,t,e[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):ownKeys(Object(e)).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))});return n}function _defineProperty(e,t,n){return t=_toPropertyKey(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==typeof t?t:t+""}function _toPrimitive(n,t){if("object"!=typeof n||!n)return n;var r=n[Symbol.toPrimitive];if(void 0!==r){var e=r.call(n,t||"default");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(n)}class _BlockEntities2D{constructor(e){let{blockName:t,entities2d:n=new _Entities2D2._Entities2D({}),position:r=new _Cords2D.default}=e;this.blockName=t,this.entities2d=n,this.position=r}static isEmpty(e){return _Entities2D2._Entities2D.isEmpty(e.entities2d)}static getPdfSvg(e,t){return _Entities2D2._Entities2D.getPdfSvg(e.entities2d,t)}static getMoved(e){let{blockEntities:t,moveX:n,moveY:r}=e,i=new _BlockEntities2D(_objectSpread({},t));return i.entities2d=_Entities2D2._Entities2D.getMoved({entities:t.entities2d,moveY:r,moveX:n}),i.position=_Cords2D.default.getMoved2D(t.position,n,r),i}static getScaled(e){let{blockEntities:t,scale:n,scalePoint:r}=e,i=new _BlockEntities2D(_objectSpread({},t));return i.entities2d=_Entities2D2._Entities2D.getScaled({entities:t.entities2d,scale:n,scalePoint:r}),i.position=_Cords2D.default.getScaled2D(t.position,n,r),i}static getRotated(e){let{blockEntities:t,rotationAngle:n,rotationCords:r}=e,i=new _BlockEntities2D(_objectSpread({},t));return i.entities2d=_Entities2D2._Entities2D.getRotated({entities:t.entities2d,rotationAngle:n,rotationCords:r}),i}static getMovedArray(e){let{blockEntitiesArr:t,moveX:n,moveY:r}=e,d=[];for(let o=0;o<t.length;o++)d.push(this.getMoved({blockEntities:t[o],moveY:r,moveX:n}));return d}static getDxf(e){let t=_Blocks2DM.default.getBlockEntitiesDXF(e);return{dxf:t.dxf,block_dxf:t.block_dxf}}}exports._BlockEntities2D=_BlockEntities2D,"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports._DIM_ARR=void 0;var _DimH2DM=_interopRequireDefault(require("./DimH2DM")),_DimV2DM=_interopRequireDefault(require("./DimV2DM")),_DimStyle2DM=_interopRequireDefault(require("./DimStyle2DM")),_Cords2D=_interopRequireDefault(require("./Cords2D"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class _DIM_ARR{static get_h_dimensions_arr(e){let{dimLengthArr:t,scale:d=1,dimStyle:o=null,start_from:l="l",cords:n,distanceFromBase:r,direction:a="t"}=e,s=0;const g=0;o||(o=new _DimStyle2DM.default({name:"Dim",scale:d,unit:"2",arrowSize:2,textHeight:2,gapExtExo:1}));let u=[];for(let n=0;n<t.length;n++)if(n!=t.length-1){let e=new _DimH2DM.default({dimStyle:o,leftCords:new _Cords2D.default(s,g),rightCords:new _Cords2D.default(s+t[n].length,g),distanceFromBase:r*d,isDimTop:"t"===a,text:t[n].length+" "+t[n].text});u.push(e),s+=t[n].length}let c;return c="l"===l?new _Cords2D.default(0,0):new _Cords2D.default(s,0),_DimH2DM.default.getMovedArrayWithCords(u,c,n)}static get_v_dimensions_arr(e){let{dimLengthArr:t,scale:d=1,dimStyle:o=null,start_from:l="b",cords:n,distanceFromBase:r,direction:a="l"}=e,s=0,g=0;o||(o=new _DimStyle2DM.default({name:"Dim",scale:d,unit:"2",arrowSize:2,textHeight:2,gapExtExo:1}));let u=[];for(let n=0;n<t.length;n++)if(n!=t.length-1){let e=new _DimV2DM.default({dimStyle:o,leftCords:new _Cords2D.default(s,g),rightCords:new _Cords2D.default(s+t[n],g),distanceFromBase:r*d,isDimLeft:"l"===a,text:t[n].length+" "+t[n].text});u.push(e),g+=t[n].length}let c;return c="l"===l?new _Cords2D.default(0,0):new _Cords2D.default(0,g),_DimV2DM.default.getMovedArrayWithCords(u,c,n)}}exports._DIM_ARR=_DIM_ARR,"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports._Entities2D=void 0;var _Line2DM=_interopRequireDefault(require("./Line2DM")),_Polyline2DM=_interopRequireDefault(require("./Polyline2DM")),_Solid2DM=_interopRequireDefault(require("./Solid2DM")),_Point2DM=_interopRequireDefault(require("./Point2DM")),_Text2DM=_interopRequireDefault(require("./Text2DM")),_MText2DM=_interopRequireDefault(require("./MText2DM")),_Arc2DM=_interopRequireDefault(require("./Arc2DM")),_Circle2DM=_interopRequireDefault(require("./Circle2DM")),_Ellipse2DM=_interopRequireDefault(require("./Ellipse2DM")),_lodash=_interopRequireDefault(require("lodash"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class _Entities2D{constructor(e){let{lineArr:t=[],pLineArr:n=[],solidArr:r=[],pointArr:i=[],textArr:d=[],mTextArr:o=[],ellipseArr:l=[],circleArr:a=[],arcArr:s=[]}=e;this.lineArr=t,this.pLineArr=n,this.solidArr=r,this.pointArr=i,this.textArr=d,this.mTextArr=o,this.ellipseArr=l,this.circleArr=a,this.arcArr=s}static isEmpty(e){let t=0!==e.lineArr.length,n=0!==e.pLineArr.length,r=0!==e.solidArr.length,i=0!==e.pointArr.length,d=0!==e.textArr.length,o=0!==e.mTextArr.length,l=0!==e.ellipseArr.length,a=0!==e.circleArr.length,s=0!==e.arcArr.length;return!t&&!n&&!r&&!i&&!d&&!o&&!l&&!a&&!s}static get_merged_entities(e,t){const n=(e,t)=>{if(_lodash.default.isArray(e))return e.concat(t)};return _lodash.default.mergeWith(e,t,n)}static getMoved(e){let{entities:t,moveX:n,moveY:r}=e,d=new _Entities2D({});for(let o=0;o<t.lineArr.length;o++)d.lineArr[o]=_Line2DM.default.getMoved(t.lineArr[o],n,r);for(let o=0;o<t.pLineArr.length;o++)d.pLineArr[o]=_Polyline2DM.default.getMoved(t.pLineArr[o],n,r);for(let o=0;o<t.solidArr.length;o++)d.solidArr[o]=_Solid2DM.default.getMoved(t.solidArr[o],n,r);for(let o=0;o<t.pointArr.length;o++)d.pointArr[o]=_Point2DM.default.getMoved(t.pointArr[o],n,r);for(let o=0;o<t.textArr.length;o++)d.textArr[o]=_Text2DM.default.getMoved(t.textArr[o],n,r);for(let o=0;o<t.mTextArr.length;o++)d.mTextArr[o]=_MText2DM.default.getMoved(t.mTextArr[o],n,r);for(let o=0;o<t.ellipseArr.length;o++)d.ellipseArr[o]=_Ellipse2DM.default.getMoved(t.ellipseArr[o],n,r);for(let o=0;o<t.circleArr.length;o++)d.circleArr[o]=_Circle2DM.default.getMoved(t.circleArr[o],n,r);for(let o=0;o<t.arcArr.length;o++)d.arcArr[o]=_Arc2DM.default.getMoved(t.arcArr[o],n,r);return d}static getMovedWithCords(e){let{entities:t,from:n,to:r}=e,i=r.x-n.x,d=r.y-n.y;return this.getMoved({entities:t,moveX:i,moveY:d})}static getRotated(e){let{entities:t,rotationAngle:n,rotationCords:r}=e;if(0!==n){let e=new _Entities2D({});for(let d=0;d<t.lineArr.length;d++)e.lineArr[d]=_Line2DM.default.getRotated(t.lineArr[d],n,r);for(let d=0;d<t.pLineArr.length;d++)e.pLineArr[d]=_Polyline2DM.default.getRotated(t.pLineArr[d],n,r);for(let d=0;d<t.solidArr.length;d++)e.solidArr[d]=_Solid2DM.default.getRotated(t.solidArr[d],n,r);for(let d=0;d<t.pointArr.length;d++)e.pointArr[d]=_Point2DM.default.getRotated(t.pointArr[d],n,r);for(let d=0;d<t.textArr.length;d++)e.textArr[d]=_Text2DM.default.getRotated(t.textArr[d],n,r);for(let d=0;d<t.mTextArr.length;d++)e.mTextArr[d]=_MText2DM.default.getRotated(t.mTextArr[d],n,r);for(let d=0;d<t.ellipseArr.length;d++)e.ellipseArr[d]=_Ellipse2DM.default.getRotated(t.ellipseArr[d],n,r);for(let d=0;d<t.circleArr.length;d++)e.circleArr[d]=_Circle2DM.default.getRotated(t.circleArr[d],n,r);for(let d=0;d<t.arcArr.length;d++)e.arcArr[d]=_Arc2DM.default.getRotated(t.arcArr[d],n,r);return e}return t}static getScaled(e){let{entities:t,scale:n,scalePoint:r}=e,d=new _Entities2D({});for(let o=0;o<t.lineArr.length;o++)d.lineArr[o]=_Line2DM.default.getScaled(t.lineArr[o],n,r);for(let o=0;o<t.pLineArr.length;o++)d.pLineArr[o]=_Polyline2DM.default.getScaled(t.pLineArr[o],n,r);for(let o=0;o<t.solidArr.length;o++)d.solidArr[o]=_Solid2DM.default.getScaled(t.solidArr[o],n,r);for(let o=0;o<t.pointArr.length;o++)d.pointArr[o]=_Point2DM.default.getScaled(t.pointArr[o],n,r);for(let o=0;o<t.textArr.length;o++)d.textArr[o]=_Text2DM.default.getScaled(t.textArr[o],n,r);for(let o=0;o<t.mTextArr.length;o++)d.mTextArr[o]=_MText2DM.default.getScaled(t.mTextArr[o],n,r);for(let o=0;o<t.ellipseArr.length;o++)d.ellipseArr[o]=_Ellipse2DM.default.getScaled(t.ellipseArr[o],n,r);for(let o=0;o<t.circleArr.length;o++)d.circleArr[o]=_Circle2DM.default.getScaled(t.circleArr[o],n,r);for(let o=0;o<t.arcArr.length;o++)d.arcArr[o]=_Arc2DM.default.getScaled(t.arcArr[o],n,r);return d}static getDxf(e){let t="",n="";for(let n=0;n<e.lineArr.length;n++)t+=_Line2DM.default.getDxf(e.lineArr[n]);for(let n=0;n<e.pLineArr.length;n++)t+=_Polyline2DM.default.getDxf(e.pLineArr[n]);for(let n=0;n<e.solidArr.length;n++)t+=_Solid2DM.default.getDxf(e.solidArr[n]);for(let n=0;n<e.pointArr.length;n++)t+=_Point2DM.default.getDxf(e.pointArr[n]);for(let n=0;n<e.textArr.length;n++)t+=_Text2DM.default.getDxf(e.textArr[n]);for(let n=0;n<e.mTextArr.length;n++)t+=_MText2DM.default.getDxf(e.mTextArr[n]);for(let n=0;n<e.ellipseArr.length;n++)t+=_Ellipse2DM.default.getDxf(e.ellipseArr[n]);for(let n=0;n<e.circleArr.length;n++)t+=_Circle2DM.default.getDxf(e.circleArr[n]);for(let n=0;n<e.arcArr.length;n++)t+=_Arc2DM.default.getDxf(e.arcArr[n]);return{dxf:t,block_dxf:""}}}exports._Entities2D=_Entities2D,"use strict",Object.defineProperty(exports,"__esModule",{value:!0}),exports._ObjectEntities=void 0;var _lodash=_interopRequireDefault(require("lodash")),_DimH2DM=_interopRequireDefault(require("./DimH2DM")),_MultiLine2DM=_interopRequireDefault(require("./MultiLine2DM")),_MultiArc2DM=_interopRequireDefault(require("./MultiArc2DM")),_DimLinear2DM=_interopRequireDefault(require("./DimLinear2DM")),_DimV2DM=_interopRequireDefault(require("./DimV2DM"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class _ObjectEntities{constructor(e){let{multiLineArr:t=[],multiArcArr:n=[],dimLinearArr:r=[],dimHArr:i=[],dimHDimArr:d=[],dimVArr:o=[],dimVDimArr:l=[],leaderDotArr:a=[],leaderArrowArr:s=[],isBlock:g=!1}=e;this.multiLineArr=t,this.multiArcArr=n,this.dimLinearArr=r,this.dimHArr=i,this.dimHDimArr=d,this.dimVArr=o,this.dimVDimArr=l,this.leaderDotArr=a,this.leaderArrowArr=s}static isEmpty(e){let t=0!==e.multiLineArr.length,n=0!==e.multiArcArr.length,r=0!==e.dimLinearArr.length,i=0!==e.dimHArr.length,d=0!==e.dimHDimArr.length,o=0!==e.dimVArr.length,l=0!==e.dimVDimArr.length,a=0!==e.leaderDotArr.length,s=0!==e.leaderArrowArr.length;return!t&&!n&&!i&&!d&&!r&&!o&&!l&&!a&&!s}static getMerged(e,t){const n=(e,t)=>{if(_lodash.default.isArray(t))return t.concat(e)};return _lodash.default.mergeWith(e,t,n)}static getMoved(e){let{objEntities:t,moveX:n,moveY:r}=e,d=new _ObjectEntities({});for(let o=0;o<t.multiLineArr.length;o++)d.multiLineArr[o]=_MultiLine2DM.default.getMoved(t.multiLineArr[o],n,r);for(let o=0;o<t.dimHArr.length;o++)d.dimHArr[o]=_DimH2DM.default.getMoved(t.dimHArr[o],n,r);for(let o=0;o<t.dimHDimArr.length;o++)d.dimHDimArr[o]=_DimH2DM.default.getMoved(t.dimHDimArr[o],n,r);for(let o=0;o<t.dimVArr.length;o++)d.dimVArr[o]=_DimV2DM.default.getMoved(t.dimVArr[o],n,r);for(let o=0;o<t.dimVDimArr.length;o++)d.dimVDimArr[o]=_DimV2DM.default.getMoved(t.dimVDimArr[o],n,r);for(let o=0;o<t.dimLinearArr.length;o++)d.dimLinearArr[o]=_DimLinear2DM.default.getMoved(t.dimLinearArr[o],n,r);for(let o=0;o<t.multiArcArr.length;o++)d.multiArcArr[o]=_MultiArc2DM.default.getMoved(t.multiArcArr[o],n,r);for(let n=0;n<t.leaderDotArr.length;n++);for(let n=0;n<t.leaderArrowArr.length;n++);return d}static getMovedWithCords(e){let{objEntities:t,from:n,to:r}=e,i=r.x-n.x,d=r.y-n.y;return this.getMoved({objEntities:t,moveX:i,moveY:d})}static getRotated(e){let{objEntities:t,rotationAngle:n,rotationCords:r}=e;if(0!==n){let e=new _ObjectEntities({});for(let d=0;d<t.multiLineArr.length;d++)e.multiLineArr[d]=_MultiLine2DM.default.getRotated(t.multiLineArr[d],n,r);for(let d=0;d<t.dimHArr.length;d++)e.dimHArr[d]=_DimH2DM.default.getRotated(t.dimHArr[d],n,r);for(let d=0;d<t.dimHDimArr.length;d++)e.dimHDimArr[d]=_DimH2DM.default.getRotated(t.dimHDimArr[d],n,r);for(let d=0;d<t.dimVArr.length;d++)e.dimVArr[d]=_DimV2DM.default.getRotated(t.dimVArr[d],n,r);for(let d=0;d<t.dimVDimArr.length;d++)e.dimVDimArr[d]=_DimV2DM.default.getRotated(t.dimVDimArr[d],n,r);for(let d=0;d<t.dimLinearArr.length;d++)e.dimLinearArr[d]=_DimLinear2DM.default.getRotated(t.dimLinearArr[d],n,r);for(let d=0;d<t.multiArcArr.length;d++)e.multiArcArr[d]=_MultiArc2DM.default.getRotated(t.multiArcArr[d],n,r);for(let e=0;e<t.leaderDotArr.length;e++);for(let e=0;e<t.leaderArrowArr.length;e++);return e}return t}static getScaled(e){let{objEntities:t,scale:n,scalePoint:r}=e,d=new _ObjectEntities({});for(let o=0;o<t.multiLineArr.length;o++)d.multiLineArr[o]=_MultiLine2DM.default.getScaled(t.multiLineArr[o],n,r);for(let o=0;o<t.dimHArr.length;o++)d.dimHArr[o]=_DimH2DM.default.getScaled(t.dimHArr[o],n,r);for(let o=0;o<t.dimHDimArr.length;o++)d.dimHDimArr[o]=_DimH2DM.default.getScaled(t.dimHDimArr[o],n,r);for(let o=0;o<t.dimVArr.length;o++)d.dimVArr[o]=_DimV2DM.default.getScaled(t.dimVArr[o],n,r);for(let o=0;o<t.dimVDimArr.length;o++)d.dimVDimArr[o]=_DimV2DM.default.getScaled(t.dimVDimArr[o],n,r);for(let o=0;o<t.dimLinearArr.length;o++)d.dimLinearArr[o]=_DimLinear2DM.default.getScaled(t.dimLinearArr[o],n,r);for(let o=0;o<t.multiArcArr.length;o++)d.multiArcArr[o]=_MultiArc2DM.default.getScaled(t.multiArcArr[o],n,r);for(let n=0;n<t.leaderDotArr.length;n++);for(let n=0;n<t.leaderArrowArr.length;n++);return d}static getDxf(e){let t="",n="";for(let n=0;n<e.multiLineArr.length;n++)t+=_MultiLine2DM.default.getDxf(e.multiLineArr[n]);for(let n=0;n<e.multiArcArr.length;n++)t+=_MultiArc2DM.default.getDxf(e.multiArcArr[n]);for(let r,d=0;d<e.dimLinearArr.length;d++)r=_DimLinear2DM.default.getDxf(e.dimLinearArr[d]),t+=r.dxf,n+=r.block_dxf;for(let n=0;n<e.dimHArr.length;n++)t+=_DimH2DM.default.getDxf_entities2d(e.dimHArr[n]);for(let r,d=0;d<e.dimHDimArr.length;d++)r=_DimH2DM.default.getDimensionDxf(e.dimHDimArr[d]),t+=r.dxf,n+=r.block_dxf;for(let n=0;n<e.dimVArr.length;n++)t+=_DimV2DM.default.getDxf_entities2d(e.dimVArr[n]);for(let r,d=0;d<e.dimVDimArr.length;d++)r=_DimV2DM.default.getDimensionDxf(e.dimVDimArr[d]),t+=r.dxf,n+=r.block_dxf;for(let t=0;t<e.leaderDotArr.length;t++);for(let t=0;t<e.leaderArrowArr.length;t++);return{dxf:t,block_dxf:n}}}exports._ObjectEntities=_ObjectEntities;